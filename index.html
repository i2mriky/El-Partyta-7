<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุนุจุฉ ุงููุนุฏุฉ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { font-family: 'Cairo', sans-serif; }
        body {
            background-color: #f8f9fa;
            background-image: radial-gradient(#cbd5e1 1.5px, transparent 1.5px), radial-gradient(#cbd5e1 1.5px, #f8f9fa 1.5px);
            background-size: 24px 24px;
            background-position: 0 0, 12px 12px;
        }
        .animate-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-pulse { animation: pulse 1.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .blur-content { filter: blur(12px); user-select: none; transition: filter 0.3s; }
        .blur-content:hover { filter: blur(8px); }
    </style>
</head>
<body>
    <div id="app" class="min-h-screen">
        <div class="max-w-md mx-auto min-h-screen shadow-2xl bg-white/95 backdrop-blur-sm relative overflow-hidden border-x-2 border-slate-100">
            <div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-rose-500 via-amber-400 to-indigo-500 z-10"></div>
            
            <!-- Global Controls -->
            <div class="absolute top-4 left-4 z-20 flex flex-col gap-2">
                <button onclick="toggleMute()" id="muteBtn" class="p-2 bg-white rounded-full shadow-md text-slate-600 hover:bg-slate-50 transition">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line></svg>
                </button>
                <button onclick="goHome()" class="p-2 bg-white rounded-full shadow-md text-slate-600 hover:bg-slate-50 transition">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                </button>
            </div>

            <div id="screen-container"></div>
        </div>
    </div>

    <script>
        // ===== STATE =====
        let state = {
            screen: 'home',
            isMuted: false,
            daresEnabled: false,
            players: [
                { id: 1, name: 'ุงููุงุนุจ ูก', score: 0 },
                { id: 2, name: 'ุงููุงุนุจ ูข', score: 0 },
                { id: 3, name: 'ุงููุงุนุจ ูฃ', score: 0 }
            ],
            teams: [
                { id: 'A', name: 'ูุฑูู ุฃ', score: 0, color: 'text-rose-600' },
                { id: 'B', name: 'ูุฑูู ุจ', score: 0, color: 'text-indigo-600' }
            ],
            teamMode: false,
            currentGame: null
        };

        // ===== DATA =====
        const DARES_LIST = [
            "ุงุฑูุต ุจูุฏู ููุฏุฉ 30 ุซุงููุฉ ุจุฏูู ููุณููู",
            "ุงุนูู 10 ุถุบุท ุญุงูุงู",
            "ุงุชููู ุจููุฌุฉ ุฎููุฌู ูุญุฏ ุงูุฏูุฑ ุงูุฌุงู",
            "ุฎูู ุญุฏ ููุชุจ ุจูุณุช ุนูู ููุณุจูู ุจุชุงุนู",
            "ุงุนุฒู ุงูููุฌูุฏูู ุนูู ุญุงุฌุฉ ุณุงูุนุฉ",
            "ุบูู ุฃุบููุฉ ูุนูุฑู ุฏูุงุจ ุจุตูุช ุนุงูู",
            "ููู ููุชุฉ ููู ูุญุฏุด ุถุญูุ ุงุนูู ุงูุนูุงุจ ุชุงูู",
            "ุงูุดู ูุดูุฉ ุงูุจุทุฑูู ููุฏุฉ ุฏูููุฉ",
            "ุงุนูู ููุณู ูุฑุฎุฉ ูุจุจูุถ",
            "ุณูุจ ุชูููููู ููุชูุญ ูุน ุญุฏ ูู ุงููุฑูู ุงูุชุงูู ุฏูููุชูู"
        ];

        const SPY_CATEGORIES = {
            'ุฃูุงูู ุฎุฑูุฌ': ["ุณูุชู ุณุชุงุฑุฒ", "ููู ุงูุนุฑุจ", "ูุงูุฑู ููุณุชููุงู", "ููุดู ุฃูู ูุตุฑ", "ุญุฏููุฉ ุงูุฃุฒูุฑ", "ุจุฑุฌ ุงููุงูุฑุฉ", "ุงูุฃูุฑุงูุงุช", "ุงูุญุณูู", "ุงููุนุฒ", "ูุณุท ุงูุจูุฏ", "ุฏุฑูู ุจุงุฑู", "ุฒูุฏ ุจุงุฑู", "ุงูุณุงุญู ุงูุดุฑูุฑ", "ุฏูุจ", "ุงูุฌููุฉ", "ุงูููุทู", "ุงูุณูููุง", "ุงูุจููููุฌ"],
            'ุฃููุงุช ููุทุงุนู': ["ูุดุฑู ุงูุชุญุฑูุฑ", "ูุงูุฏููุงูุฏุฒ", "ููุชุงูู", "ุจุงุฒููุง", "ุญุถุฑููุช", "ุตุจุญู ูุงุจุฑ", "ุงูุจุฑูุณ", "ุงููุงููู", "ุงูุนุจุฏ", "ุฅูุชูุงู", "ุจูุจุณู", "ุดูุจุณู", "ุฅูุฏููู", "ุดุงูุฑูุง", "ุญูุงูุดู", "ูุณูุฎ", "ุณูุดู", "ุณููุงุจูู", "ูุงูู"],
            'ุชูููููุฌูุง ูุชุทุจููุงุช': ["ููุณุจูู", "ูุงุชุณุงุจ", "ุงูุณุชุฌุฑุงู", "ุชูู ุชูู", "ุชููุชุฑ", "ููุชููุจ", "ุทูุจุงุช", "ุฃูุจุฑ", "ุฅู ุฏุฑุงูู", "ุงูุณุชุงุจุงู", "ุฒููู", "ุจุจุฌู", "ูุงูุฏู ูุฑุงุด", "ุฌูุฌู ูุงุจ", "ููุฏุงููู ูุงุด"],
            'ูุณุงุฆู ููุงุตูุงุช': ["ุงููุชุฑู", "ุงููููุฑูุจุงุต", "ุงูุชููุชูู", "ุงูุชุงูุณู", "ุฃูุจุฑ", "ุงูุทุฑูุงู", "ุงููุทุฑ", "ุงูุทูุงุฑุฉ", "ุงูุนุจุงุฑุฉ", "ุงูุณููุชุฑ", "ุงูุนุฌูุฉ", "ุงูููููุฑูู", "ุงูุฃูุชูุจูุณ ุงูุชุฑุฏุฏู"],
            'ููู ุญุฏูุซุฉ': ["ููุชููุจุฑ", "ุงูููููุณุฑ", "ููุชูุฌุฑุงูุฑ", "ุฏูููุฑู", "ููู ุณูุชุฑ", "ุจุฑูุฌุฑุงูุฑ", "ูุงุจุชู ุฃูุจุฑ", "ููุฏูู", "ูููุจ ุฃุฑุชูุณุช", "ุฌููุฑ", "ุจููุฌุฑ", "ูุฏุฑุจ ุฌูู"]
        };

        const CHARADES_DATA = {
            'ุฃููุงู ููููุฏู': ["ุงูููุจู", "ุนุณู ุฃุณูุฏ", "ุฅูุณ ูุงุฑุฌ", "ุบุจู ููู ููู", "ููู ุงูุตูู ุงูุนุธูู", "ุทูุฑ ุฅูุช", "ูุง ุชุฑุงุฌุน ููุง ุงุณุชุณูุงู", "ุงูุญุฑุจ ุงูุนุงูููุฉ ุงูุซุงูุซุฉ", "ุจูู ุงูุญุธ", "ูุด ุฅุฌุฑุงู", "ูุฏู ุฑุถุง", "ูุทุจ ุตูุงุนู", "ุธุฑู ุทุงุฑู", "ุจูุจู ุญูุฑุงู", "ุณููุฑ ูุดููุฑ ูุจููุฑ", "ุงููุงุธุฑ", "ุฌุงุกูุง ุงูุจูุงู ุงูุชุงูู", "ุฃุจู ุนูู", "ุฒูู ุดุงู", "ููุฏู ูุดุงูู", "ุงูุจุงุดุง ุชูููุฐ", "ุจูุดูุงุด", "ูุฑูุฑ", "ูุฑุฌุงู ุฃุญูุฏ ูุฑุฌุงู", "ุฅุชุด ุฏุจูุฑ"],
            'ุฃูุดู ูุฏุฑุงูุง': ["ุงูููู ุงูุฃุฒุฑู", "ููุงุฏ ุฑุฒู", "ุฅุจุฑุงููู ุงูุฃุจูุถ", "ุงูุฌุฒูุฑุฉ", "ุชูุชู", "ุงููุตูุญุฉ", "ููุฑุฉ ูุงูุฌู", "ุงูุฎููุฉ", "ููุงูู ุฅุณููุฏุฑูุฉ", "ุฃุณู ุนูู ุงูุฅุฒุนุงุฌ", "ุนูุงุฑุฉ ูุนููุจูุงู", "ุณูุฑ ุงูููุงูู", "ูุงุญุฏ ูู ุงููุงุณ", "ุฎุงุฑุฌ ุนู ุงููุงููู", "ุญูู ููุณุฑุฉ", "ุงููุฑุญ", "ูุจุงุฑูู", "ุณุงุนุฉ ููุต", "ุชุฑุงุจ ุงููุงุณ", "ุงูุฃุตูููู"],
            'ูุณูุณูุงุช': ["ุงูุงุฎุชูุงุฑ", "ุงููุจูุฑ ุฃูู", "ุจู 100 ูุด", "ุฌุนูุฑ ุงูุนูุฏุฉ", "ุณูุงุญ ุงูุฌูุฒุฉ", "ูุง ูุฑุงุก ุงูุทุจูุนุฉ", "ููุถูุน ุนุงุฆูู", "ุงููุนุจุฉ", "ูู ุจูุชูุง ุฑูุจูุช", "ุงููุฏุงุญ", "ูุณู ุงูุฃุบุฑุงุจ", "ุงูุจุฑูุณ", "ุงูุฃุณุทูุฑุฉ", "ููููู ูุดุฑููุงู", "ุฑูุญ ุงููุฏุงู", "ุงููุตูุฉ", "ุณุงุจุน ุฌุงุฑ", "ุฃุจู ุงูุนุฑูุณุฉ", "ุฃูู ุฏู ุงููู ุตุงุฑ", "ุจุงูุทู"],
            'ุฃุบุงูู': ["ุฃูุช ุงูุญุธ", "ุจูุช ุงูุฌูุฑุงู", "ุนูุฏ ุงูุจุทู", "ุณุงููุฉ (ููุฌุฒ)", "ุงูุจุฎุช", "ูููู ูุฏู", "ููููููุฑ ููููููุฑ", "ุณูุฑ ูุญูู", "ุฅุฎูุงุชู", "ูุฏุงุน ูุง ุฏููุง ูุฏุงุน", "ูุงููุง", "ููุจุฑ ูุงู", "ุชููู ูุนุงู", "ููู ุชูุงุช", "ูุชุนูููุง", "ุจุฑุฌ ุงูุญูุช", "ูุงุณููู ููู", "ุงูููู (ูุงูุฑููู)", "ูุฑุจูุท ุจุฃุณุชู", "ุดููุงุก"],
            'ุดุฎุตูุงุช': ["ูุญูุฏ ุตูุงุญ", "ุจูุฌ ุฑุงูู", "ููุฌุฒ", "ุญูู ุจููุง", "ูุงุณููู ุนุฒ", "ุฑุถูู ุงูุดุฑุจููู", "ุดูุฑูู ุนุจุฏ ุงูููุงุจ", "ูุญูุฏ ุฑูุถุงู", "ุชุงูุฑ ุญุณูู", "ุนูุฑู ุฏูุงุจ", "ุฃุญูุฏ ุญููู", "ููู ุฒูู", "ุนุงุฏู ุฅูุงู", "ุญุณู ุดุงููุด", "ูุฑูุงู ุจุงุจูู", "ุฃุจู ุงูููู", "ุงูููููุงุก", "ูุชุฑู ุงูุฃููุงู", "ููุจุฑู ุฃูุชูุจุฑ"]
        };

        const QUOTES_DATA = [
            { "quote": "ุงุนูู ููุณู ููุช ุงุนูู ููุณู ููุช", "work": "ุงููุงุธุฑ", "actor": "ุนูุงุก ููู ุงูุฏูู" },
            { "quote": "ุงูุชู ูุงุจุณู ุงูุจูุทููู ููุง", "work": "ุงูููุจู", "actor": "ูุญูุฏ ุณุนุฏ" },
            { "quote": "ุงูุชู ุจุชุชูููู ูุฏู ููู ูุง ูุฑู", "work": "ุงูุงููุงูู", "actor": "ูุญูุฏ ุฑูุถุงู" },
            { "quote": "ุงูุช ููู ุฏูุง ูุงูุจุช ุนููู ุฎุฑุงุจุงุช ูุตุฑ ูููุง", "work": "ุงูุงููุงูู", "actor": "ูุญูุฏ ุฑูุถุงู" },
            { "quote": "ูู ุญูู ูุญุฏุฏ ุนุงูุฒุงูู ุงุญูู ุจููุ", "work": "ุชูุชุฉ ุฑููุจุฉ", "actor": "ูุญูุฏ ูููุฏู" },
            { "quote": "ูุงุดุฑุจุด ุนูุฏู ุจุฑุชูุงู ..", "work": "ุงููุฑููุทู", "actor": "ุฃุญูุฏ ุขุฏู" },
            { "quote": "ูุด ุฃูุง ุนูุฏ ูููุงุฏู ุงูููุฑุฏุฉ", "work": "ุงูุชุฌุฑุจุฉ ุงูุฏููุงุฑููุฉ", "actor": "ุนุงุฏู ุฅูุงู" },
            { "quote": "ูู ุชุงููู ุงุนุฏุงุฏู ุงู ุชุงูุชู ุงุนุฏุงุฏู ูู ุงูุฑููุฌ ุฏู", "work": "ูุด ุฅุฌุฑุงู", "actor": "ูุญูุฏ ูููุฏู" },
            { "quote": "ููุง ุจูุฎุทู ุจูุงุช ูู ุซุงููู.. ุจุชุนูู ูููู ุงููุ .. ุจูุฑุฌุนูู ุฅุนุฏุงุฏู", "work": "ูุด ุฅุฌุฑุงู", "actor": "ูุญูุฏ ูููุฏู" },
            { "quote": "ุนุงูุฒู ุชุนููู ุฏุนูู ุชูุฒ ุงูููุงุจุฑ", "work": "ุฌุนูุชูู ูุฌุฑูุงู", "actor": "ููุณู ุนูุฏ" },
            { "quote": "ุงุนูุฐ ุจุงููู ููู ูุง ุจูุชู ูุฏู ุดุฑุจุงุท ุงูู ุงููุฃู ุฏู", "work": "ุฌุนูุชูู ูุฌุฑูุงู", "actor": "ููุณู ุนูุฏ" },
            { "quote": "ุฌูู ุฒุญููู.. ุจุทุนู ุงููุงุชุดุจ", "work": "ุฌุนูุชูู ูุฌุฑูุงู", "actor": "ุฃุญูุฏ ุญููู" },
            { "quote": "ุฃูููู ููู ููุง ุชุฒุนูุด", "work": "ุฃุฎุทุฑ ุฑุฌู ูู ุงูุนุงูู", "actor": "ูุคุงุฏ ุงููููุฏุณ" },
            { "quote": "ุขูุณุฉ ุฒูุฒูุ .. ุขูุณุฉ ููููููู", "work": "ุฌุนูุชูู ูุฌุฑูุงู", "actor": "ุฃุญูุฏ ุญููู" },
            { "quote": "ุฒูุฑูุง ุงูุฏุฑุฏูุฑู ูุฏุฑุณ ุฑูุงุถูุงุช ููุฑูุณุงูู", "work": "ุงููุงุธุฑ", "actor": "ููุณู ุนูุฏ" },
            { "quote": "ููุงูู ููุงูู ูุตูุช ููููุชุฑ .. ููุช ุดููุช ุฑูุญุชู ูุฏุงุจ", "work": "ุงููุงุธุฑ", "actor": "ููุณู ุนูุฏ ู ุญุณู ุญุณูู" },
            { "quote": "ุงุญุท ูุงู โฆ ุญุท ูกู ุ ูจู ู ุนููู ุนูู ุงูุนุฏุงุฏ ู ุฎููู ูุชูุตู", "work": "ุงููุงุธุฑ", "actor": "ููุณู ุนูุฏ ู ุญุณู ุญุณูู" },
            { "quote": "ุนุงุฑู ุงูู ุงุญูู ุญุงุฌู ูู ุณูุฏููุชุดุงุช ุงููุจุฏุฉ ุฏูุ ุงูุบููุถ.. ุจุชุงูู ูุงูุช ูุด ุนุงุฑู ุงูู ุงูุญููุงู ุงููู ูู ุจููู", "work": "ุณูู ุงูุฌูุนุฉ", "actor": "ุนูุฑู ุนุจุฏ ุงูุฌููู" },
            { "quote": "ุงูุบู ุนูุฏู ููุดูู ูุง ูุทูู", "work": "ุฌุนูุชูู ูุฌุฑูุงู", "actor": "ุญุณู ุญุณูู" },
            { "quote": "ุฃูุง ูุด ุชุจุน ุญุฏ.. ุฃูุง ุฑุฆูุณ ุฌูููุฑูุฉ ููุณู", "work": "ุฒูู ุดุงู", "actor": "ูุญูุฏ ุดุฑู" },
            { "quote": "ุงูู ุงุณู", "work": "ุนุณูุฑ ูู ุงููุนุณูุฑ", "actor": "ุณูููุงู ุนูุฏ" },
            { "quote": "ุชูุงู ูุง ุนุณูุฑู .. ูู ูุด ุชูุงู ..", "work": "ุนุณูุฑ ูู ุงููุนุณูุฑ", "actor": "ุญุณู ุญุณูู ู ุณูููุงู ุนูุฏ" },
            { "quote": "ุงุฏููู ุจูุณู ุนุดุงู ุชุนุจุงู", "work": "ุนุณูุฑ ูู ุงููุนุณูุฑ", "actor": "ูุญูุฏ ุดุฑู" },
            { "quote": "ูุงุฑุจ ุนุฏู ุงูุณุชูู ุณุจุนูู ุณูู ุฏูู ุนูู ุฎูุฑ", "work": "ุชุชุญ", "actor": "ูุญูุฏ ุณุนุฏ" },
            { "quote": "ูุนูู ุญุถุฑุชู ุฌู ูุตุญููู ุนุดุงู ุชูููู ุงุนุฑู ุทุจูุ", "work": "ุชุชุญ", "actor": "ูุญูุฏ ุณุนุฏ" },
            { "quote": "ูุง ุชุนูู ุญุงุฌู ุจูุดู ุงููู ุดุจู ูุจูุช ุงูุบููุฑ ุฏู", "work": "ุชุชุญ", "actor": "ูุญูุฏ ุณุนุฏ" },
            { "quote": "ูุฃูู ููู ู ูุดุฑุจ ููู .. ุงุญูุง ุดุบุงููู ุนูุฏ ุงูุชุงุจุนู!", "work": "ุจูุดูุงุด", "actor": "ูุญูุฏ ุณุนุฏ" },
            { "quote": "ูุฑููุฏ ูุฑููุฏ ูุนูู ูุชุฑูุฏ ูู ููุจ ุงูุฌูู", "work": "ุจูุดูุงุด", "actor": "ูุญูุฏ ุณุนุฏ" },
            { "quote": "ูุงุงุงุงุง ุฅูุง ูุงูููู ุฏู .. ูุงููู ุฏู ุฃูุง ุนุงุฑููุง ูู ุงูุงููุงู ุงูุงุฌูุจูู", "work": "ุจูุดูุงุด", "actor": "ูุญูุฏ ุณุนุฏ" },
            { "quote": "ูุด ุฃูุง ุงููู ูุชูุงูู ุฅุฐูุจ ุฅูู ุงูุฌุญูู ูุง ุจูุฑ ุจูู", "work": "ุจูุดูุงุด", "actor": "ูุญูุฏ ุณุนุฏ" }
        ];

        const FIVE_SECOND_QUESTIONS = [
            { "text": "ุงุฐูุฑ 3 ูุทุฑุจูู ุฑุงุจ ูุตุฑููู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃููุงู ูุฃุญูุฏ ุญููู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃููุงุน ูุญุดู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ูุญุทุงุช ูุชุฑู ูู ุงูุฎุท ุงูุฃูู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃูุงูู ููุฎุฑูุฌ ูู ุงูุฒูุงูู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃููุงู ุธูุฑ ูููุง ูุญูุฏ ุฑูุถุงู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ููุฌูุฏุฉ ูู ุดูุทุฉ ุงูุฌูู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃุณูุงุก ูุณูุณูุงุช ูู ุฑูุถุงู ุงููู ูุงุช", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ุจุชุชุญุท ุนูู ุงููุดุฑู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ูุงุนูุจุฉ ุจููุนุจูุง ูู ุงูููุชุฎุจ ุญุงููุงู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃููุงุน ุนุฑุจูุงุช ููุชุดุฑุฉ ูู ูุตุฑ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ูููุงุช ูุจูุฑุฉ ูู ุงููุงูุฑุฉ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ูุญุงูุธุงุช ูู ุงูุตุนูุฏ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃููุงู ููุฌูุฏุฉ ูู ุนูู ูุตุฑ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ุจูุนูููุง ุฃูู ููู ุงูุนูุฏ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃุบุงูู ูุนูุฑู ุฏูุงุจ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ูููุงุช ููุชููุจ ูุตุฑูุฉ ูุดููุฑุฉ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃููุงุช ุจุชุชุงูู ูู ุดู ุงููุณูู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุดุฎุตูุงุช ูู ูุณูุณู ุงููุจูุฑ ุฃูู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ูุงุฑูุงุช ุดูุจุณู ุฃู ุณูุงูุณ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ูููู ุชุดุชุฑููุง ุจู 100 ุฌููู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃูุงูู ุจุชุตูู ูููุง", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ุจุชุดุฑุจูุง ูู ุงููููุฉ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃููุงู ููุฑูู ุนุจุฏ ุงูุนุฒูุฒ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ููุงูู ุดุชููุฉ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ููุฌูุฏุฉ ูู ุงููุทุจุฎ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ุจุชุชุนูู ุจุงูุจูุถ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ูุฏู ุณุงุญููุฉ ูู ูุตุฑ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃุณุจุงุจ ุชุฎููู ุชุฒูุบ ูู ุงูุดุบู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ููููุง ุฃุญูุฑ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ูู ุฌูุจู ุฏูููุชู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃููุงุน ุฌุจู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ุจูุนูููุง ูู ุงููุฑุญ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃูุงูู ุณูุงุญูุฉ ูู ุงูุฃูุตุฑ ูุฃุณูุงู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ูุทุงุนู ูุฌุจุงุช ุณุฑูุนุฉ ุนุงูููุฉ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃููุงุน ููุงุจ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ูุณุฑุญูุงุช ูุนุงุฏู ุฅูุงู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ููุฌูุฏุฉ ูู ุงูุนุฑุจูุฉ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ุจุชูุจุณูุง ูู ุงูุดุชุง", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฎุถุฑูุงุช ุจุชุชุญุท ูู ุงูุณูุทุฉ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃุดูุงุก ููุฌูุฏุฉ ูู ุงูุญูุงู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃููุงุน ุณูู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ุจุชุดุชุฑููุง ูู ุงูุตูุฏููุฉ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุฃููุงุจ ุฏูุน ูุงุณู ูุญูุฏ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ุจุชุชุนูู ุจุงูููุจุงูู ุบูุฑ ุงูุงุชุตุงู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ุจุชุนูู ุฏูุดุฉ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ุจุชุทูุฑ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุงุฌุงุช ููููุง ุฃุตูุฑ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ููู ูุฏููุฉ", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ุญุดุฑุงุช ุจุชุดูููุง ูู ุงูุตูู", "answersNeeded": 3 },
            { "text": "ุงุฐูุฑ 3 ูุดุฑูุจุงุช ุณุฎูุฉ", "answersNeeded": 3 }
        ];

        const BUS_CATEGORIES = [
            { name: 'ุญุงุฌุฉ', items: ['ูุชุงุจ', 'ููู', 'ููุจุงูู', 'ุณุงุนุฉ', 'ููุจุงูุฉ', 'ููุชุงุญ', 'ูุธุงุฑุฉ', 'ุดูุทุฉ', 'ูุญูุธุฉ', 'ุจุทุงููุฉ'] },
            { name: 'ุญููุงู', items: ['ุฃุณุฏ', 'ููู', 'ูุทุฉ', 'ููุจ', 'ุญุตุงู', 'ุฌูู', 'ููุฑ', 'ุฏุจ', 'ุฒุฑุงูุฉ', 'ูุฑุฏ'] },
            { name: 'ูููุฉ', items: ['ุฏูุชูุฑ', 'ูููุฏุณ', 'ูุนูู', 'ูุญุงูู', 'ุทูุงุฑ', 'ุดูู', 'ููุงู', 'ูุงุชุจ', 'ุฑูุงุถู', 'ุตุญูู'] },
            { name: 'ุจูุฏ', items: ['ูุตุฑ', 'ุงูุณุนูุฏูุฉ', 'ุงูุฅูุงุฑุงุช', 'ุชุฑููุง', 'ูุฑูุณุง', 'ุฃูุฑููุง', 'ุฅูุทุงููุง', 'ุงููุงุจุงู', 'ุงููุบุฑุจ', 'ุงูุฃุฑุฏู'] },
            { name: 'ุฃููุฉ', items: ['ูุดุฑู', 'ูุจุฏุฉ', 'ูููุฎูุฉ', 'ูุญุดู', 'ููู', 'ุทุนููุฉ', 'ููุชุฉ', 'ุฏุฌุงุฌ', 'ุณูู', 'ููุฑููุฉ'] },
            { name: 'ูุงููุฉ', items: ['ุชูุงุญ', 'ููุฒ', 'ุจุฑุชูุงู', 'ูุงูุฌู', 'ุนูุจ', 'ูุฑุงููุฉ', 'ุฎูุฎ', 'ููุซุฑู', 'ุจุทูุฎ', 'ุดูุงู'] }
        ];

        const LIAR_CARDS = [
            { topic: "ุนูุฑู ุฏูุงุจ", facts: ["ููุจู ุงููุถุจุฉ", "ูุณุจ ุงููููุฒู ุฃููุฑุฏ 7 ูุฑุงุช", "ุนูู ุฏููุชู ูุน ุจูููุณูู"] },
            { topic: "ูุญูุฏ ุตูุงุญ", facts: ["ูุนุจ ูู ุงูููุงูููู ุงูุนุฑุจ", "ูุฏุงู ูููุฑุจูู ุงูุชุงุฑูุฎู", "ูุนุจ ูู ุงููุงุฏู ุงูุฃููู ุณุงุจูุงู"] },
            { topic: "ูููู ุงููุงุธุฑ", facts: ["ุจุทููุฉ ุนูุงุก ููู ุงูุฏูู", "ููู ุดุฎุตูุฉ ุงุณููุง ุงูููุจู", "ุฃุญูุฏ ุงูุณูุง ูุงู ุถูู ุดุฑู ููู"] },
            { topic: "ููุฑ ุงูููู", facts: ["ุฃุทูู ููุฑ ูู ุงูุนุงูู", "ุจููุฑ ุจู 11 ุฏููุฉ ุฃูุฑูููุฉ", "ููุจุนู ุงูุฃุตูู ุจุญูุฑุฉ ูุงุตุฑ"] },
            { topic: "ุงูุฃููู ูุงูุฒูุงูู", facts: ["ุฏูุฑุจู ุงููุงูุฑุฉ", "ุงูุฃููู ูุงุฏู ุงููุฑู ุงูุฃูุฑููู", "ุงูุฒูุงูู ูุณุจ ุงูุฃููู 6-0 ูู 2002"] },
            { topic: "ุนุงุฏู ุฅูุงู", facts: ["ููุจู ุงูุฒุนูู", "ุนูู ูุณุฑุญูุฉ ูุฏุฑุณุฉ ุงููุดุงุบุจูู", "ูุซู ูููู ุงูุฒูุฌุฉ ุงูุซุงููุฉ"] },
            { topic: "ุงูุนููุฉ ุงููุตุฑูุฉ", facts: ["ุงูุฌููู ููู 100 ูุฑุด", "ูุฑุณูู ุนูู ุงูู 200 ุฌููู ุงููุงุชุจ ุงููุตุฑู", "ุงูู 50 ุฌููู ุนูููุง ุตูุฑุฉ ุฃู ููุซูู"] },
            { topic: "ูุชุฑู ุงูุฃููุงู", facts: ["ููู 3 ุฎุทูุท ุฑุฆูุณูุฉ ุดุบุงูุฉ", "ุฃูู ูุชุฑู ูู ุฃูุฑูููุง", "ุจููุตู ูุญุฏ ูุฏููุฉ ุงูุฅุณููุฏุฑูุฉ"] },
            { topic: "ุฃุญูุฏ ุฒููู", facts: ["ุนุงูู ููููุงุก ูุตุฑู", "ุฎุฏ ุฌุงูุฒุฉ ููุจู", "ูุงู ุฑุฆูุณ ุฌูููุฑูุฉ ูุตุฑ"] },
            { topic: "ูุณูุณู ุงููุจูุฑ", facts: ["ููู ุดุฎุตูุฉ ุฌููู", "ููู ุดุฎุตูุฉ ุญุฒูููู", "ุฃุญูุฏ ููู ุจููุซู ุดุฎุตูุฉ ูุฒุงุน"] },
            { topic: "ุงูุฃูุฑุงูุงุช", facts: ["ุฎููู ูุฎูุฑุน ููููุฑุน", "ููุฌูุฏุฉ ูู ุงูุฌูุฒุฉ", "ุจูููุง ูุงุฆูุงุช ูุถุงุฆูุฉ"] },
            { topic: "ุญุณู ุดุงููุด", facts: ["ูุบูู ููุฑุฌุงูุงุช", "ุบูู ุจูุช ุงูุฌูุฑุงู", "ูุงู ูุบูู ูู ุงูุฃูุจุฑุง ุฒูุงู"] },
            { topic: "ุงููุดุฑู", facts: ["ููู ุฑุฒ ูููุฑููุฉ ูุนุฏุณ", "ุฃููุฉ ูุตุฑูุฉ ุดุนุจูุฉ", "ุฃุตูู ุฃููุฉ ุฅูุทุงููุฉ"] },
            { topic: "ุจุฑุฌ ุงููุงูุฑุฉ", facts: ["ุงุชุจูู ูู ุนูุฏ ุฌูุงู ุนุจุฏ ุงููุงุตุฑ", "ุดููู ุนูู ููุฆุฉ ุฒูุฑุฉ ุงูููุชุณ", "ุฃุทูู ูู ุจุฑุฌ ุฎูููุฉ"] },
            { topic: "ูููู ุงูููู ุงูุฃุฒุฑู", facts: ["ูุฃุฎูุฐ ุนู ุฑูุงูุฉ ูุฃุญูุฏ ูุฑุงุฏ", "ุจุทููุฉ ูุฑูู ุนุจุฏ ุงูุนุฒูุฒ", "ุงูุฌุฒุก ุงูุชุงูุช ูุฒู ุณูุฉ 2010"] },
            { topic: "ุงููุฑุงุนูุฉ", facts: ["ุญูุทูุง ุงูููุชู", "ุจููุง ูุนุจุฏ ุงููุฑูู", "ูุงููุง ุจูุงูููุง ุจูุชุฒุง"] },
            { topic: "ุฃู ููุซูู", facts: ["ููุจูุง ูููุจ ุงูุดุฑู", "ุบูุช ุฃูุช ุนูุฑู", "ูุงูุช ุจุชุบูู ููุฑุฌุงูุงุช ูู ุดุจุงุจูุง"] },
            { topic: "ููุงุฉ ุงูุณููุณ", facts: ["ุจุชุฑุจุท ุงูุจุญุฑ ุงูุฃุญูุฑ ุจุงููุชูุณุท", "ุงุชุฃููุช ุณูุฉ 1956", "ุงุชุจูุช ูู ุนูุฏ ุงูุฑุฆูุณ ุงูุณุงุฏุงุช"] },
            { topic: "ูุญูุฏ ูููุฏู", facts: ["ุนูู ูููู ุตุนูุฏู ูู ุงูุฌุงูุนุฉ ุงูุฃูุฑูููุฉ", "ูุงู ุจุฏูุฑ ุฎุงูุฉ ููุณุฉ", "ุทููู 190 ุณู"] },
            { topic: "ุงูุจุญุฑ ุงูุฃุญูุฑ", facts: ["ููู ุดุนุงุจ ูุฑุฌุงููุฉ", "ุจูุทู ุนูู ูุฏููุฉ ุงูุบุฑุฏูุฉ", "ููุชุฉ ูููุด ูููุง ุณูู"] },
            { topic: "ุงููุงูุฌู", facts: ["ูุงููุฉ ุตูููุฉ", "ูููุง ุฃููุงุน ุฒู ุงูุนููุณ ูุงูุฒุจุฏูุฉ", "ุจุชุชุฒุฑุน ูู ุงููุทุจ ุงูุดูุงูู"] },
            { topic: "ุงูููุณ ุจูู", facts: ["ุฃุณุณู ูุงุฑู ุฒููุฑุจูุฑุฌ", "ูููู ุฃุฒุฑู", "ุจูููุณ ุงุดุชุฑุงู ุดูุฑู ุฅุฌุจุงุฑู"] },
            { topic: "ุงูุณุงุญู ุงูุดูุงูู", facts: ["ูุฌูุฉ ุตูููุฉ ูููุตุฑููู", "ููู ูุฑู ุณูุงุญูุฉ ูุชูุฑ", "ุงูุฌู ููู ุจููุทุฑ ุชูุฌ ูู ุงูุตูู"] },
            { topic: "ุงูุฌุงูุนุฉ ุงูุฃูุฑูููุฉ", facts: ["ููุฌูุฏุฉ ูู ุงูุชุฌูุน ุงูุฎุงูุณ", "ุงุฎุชุตุงุฑูุง AUC", "ุจุชุฏู ุงูุดูุงุฏุฉ ุจุงููุบุฉ ุงูููุฏูุฉ"] },
            { topic: "ุงูููู ุงููุฏูุณ", facts: ["ุฃููุฉ ูุทุงุฑ ุฃุณุงุณูุฉ", "ุจูุชุนูู ููู ุณุงูุฏูุชุดุงุช", "ูุงููุฉ ุงุณุชูุงุฆูุฉ ูุงุฏุฑุฉ"] }
        ];

        const AUCTION_CATEGORIES = [
            { name: "ุฃุณูุงุก ูุญุทุงุช ูุชุฑู ุงูุฎุท ุงูุฃูู (ุงููุฑุฌ - ุญููุงู)", maxAnswers: 20 },
            { name: "ุฃุณูุงุก ูุงุนุจู ุงููุงุฏู ุงูุฃููู ุงูุญุงูููู", maxAnswers: 20 },
            { name: "ุฃููุงู ุงูุฒุนูู ุนุงุฏู ุฅูุงู", maxAnswers: 20 },
            { name: "ูุญุงูุธุงุช ุฌูููุฑูุฉ ูุตุฑ ุงูุนุฑุจูุฉ", maxAnswers: 20 },
            { name: "ุฃููุงุน ูุงุฑูุงุช ุณูุงุฑุงุช", maxAnswers: 20 },
            { name: "ุฃุณูุงุก ููุงูู", maxAnswers: 20 },
            { name: "ุฏูู ูุงุฑุฉ ุฃูุฑูููุง", maxAnswers: 20 },
            { name: "ุฃุบุงูู ูุนูุฑู ุฏูุงุจ", maxAnswers: 20 },
            { name: "ูุณูุณูุงุช ุนุฑุถุช ูู ุฑูุถุงู ุงููุงุถู", maxAnswers: 20 },
            { name: "ูุงุฑูุงุช ููุจุงููุงุช ุนุงูููุฉ", maxAnswers: 20 },
            { name: "ุฃููุงุช ูุตุฑูุฉ ุดุนุจูุฉ", maxAnswers: 20 },
            { name: "ุฃุณูุงุก ุจูุงุช ุจุญุฑู ุงูููู", maxAnswers: 20 },
            { name: "ุฃุณูุงุก ุฃููุงุฏ ุจุญุฑู ุงูุฃูู", maxAnswers: 20 },
            { name: "ุฃููุงู ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ", maxAnswers: 20 },
            { name: "ุฃุนุถุงุก ุฌุณู ุงูุฅูุณุงู ุงูุฎุงุฑุฌูู", maxAnswers: 20 },
            { name: "ุฃููุงุน ุญููุงูุงุช ููุชุฑุณุฉ", maxAnswers: 20 },
            { name: "ุฏูู ุนุฑุจูุฉ", maxAnswers: 20 },
            { name: "ูุงุฑูุงุช ููุงุจุณ ุฑูุงุถูุฉ", maxAnswers: 20 },
            { name: "ุฃุณูุงุก ุฎุถุฑูุงุช", maxAnswers: 20 },
            { name: "ุฃุณูุงุก ูุงุนุจู ุงูุฒูุงูู ุงูุญุงูููู", maxAnswers: 20 },
            { name: "ุฃููุงู ุฃุญูุฏ ุญููู", maxAnswers: 20 },
            { name: "ุฃููุงุน ูุดุฑูุจุงุช ุบุงุฒูุฉ", maxAnswers: 20 },
            { name: "ุนูุงุตู ุฏูู ุงูุนุงูู", maxAnswers: 20 },
            { name: "ุฃุณูุงุก ูุทุฑุจูู ุดุนุจููู ูููุฑุฌุงูุงุช", maxAnswers: 20 },
            { name: "ุฃููุงุน ุดููููุงุชุฉ", maxAnswers: 20 },
            { name: "ุฃุณูุงุก ูุฏู ูุตุฑูุฉ (ุบูุฑ ุงููุญุงูุธุงุช)", maxAnswers: 20 },
            { name: "ุฃุฏูุงุช ููุฌูุฏุฉ ูู ุงููุทุจุฎ", maxAnswers: 20 },
            { name: "ูุงุฑูุงุช ููู ุฃุจ", maxAnswers: 20 },
            { name: "ุฃููุงู ูุญูุฏ ูููุฏู", maxAnswers: 20 },
            { name: "ุตูุงุช ุจุญุฑู ุงูุณูู", maxAnswers: 20 },
            { name: "ุฃุณูุงุก ุฃููุงุฏ ุจุญุฑู ุงูููู", maxAnswers: 20 },
            { name: "ุฏูู ุฃูุฑูุจูุฉ", maxAnswers: 20 },
            { name: "ุฃููุงุน ุทููุฑ", maxAnswers: 20 },
            { name: "ุฃุณูุงุก ุฃุฌูุฒุฉ ููุฑุจุงุฆูุฉ", maxAnswers: 20 },
            { name: "ูุงุฑูุงุช ุณุงุนุงุช", maxAnswers: 20 }
        ];

        const GIBBERISH_DATA = [
            { "gibberish": "ุณู ุฏู ุชุด ูุจ ุฏุง", "answer": "ุณุงูุฏูุชุด ูุจุฏุฉ" },
            { "gibberish": "ุจุง ุงู ูู ูู ุงู", "answer": "ุจูููู ุฅูู" },
            { "gibberish": "ูุณ ุงุก ุงู ุฎู ูุฑ", "answer": "ูุณุงุก ุงูุฎูุฑ" },
            { "gibberish": "ูุญ ุดู ูุฑ ูุจ", "answer": "ูุญุดู ูุฑูุจ" },
            { "gibberish": "ุทุน ูู ูุง ุณุฎ ูุง", "answer": "ุทุนููุฉ ุณุฎูุฉ" },
            { "gibberish": "ุญุง ู ู ุจู ูุง", "answer": "ุญูู ุจููุง" },
            { "gibberish": "ูู ุฌุฒ ุงู ุบู ุงุจ ุง", "answer": "ููุฌุฒ ุงูุบูุงุจุฉ" },
            { "gibberish": "ูุง ู ุฑู ูู ู", "answer": "ูุงูุฑููู" },
            { "gibberish": "ูู ุตู ุฑ ุชุดู ูุฑ ูู ูู", "answer": "ููุตูุฑ ุดููุฑูููู" },
            { "gibberish": "ูู ุจุฑ ู ุงู ุชู ุจุฑ", "answer": "ููุจุฑู ุฃูุชูุจุฑ" },
            { "gibberish": "ูู ุช ุฑู ุงู ุงู ูุง ู", "answer": "ูุชุฑู ุงูุฃููุงู" },
            { "gibberish": "ุณุง ุญู ุด ุฑู ุฑ", "answer": "ุณุงุญู ุดุฑูุฑ" },
            { "gibberish": "ูู ุจุง ูู ุณุงู ุณูู ุฌ", "answer": "ููุจุงูู ุณุงูุณููุฌ" },
            { "gibberish": "ูุง ุฏู ุงู ุฒู ุงู ู", "answer": "ูุงุฏู ุงูุฒูุงูู" },
            { "gibberish": "ูุง ุฏู ุงู ุงู ูู", "answer": "ูุงุฏู ุงูุฃููู" },
            { "gibberish": "ุดุจ ูุช ูู ุฏ ุงู ูู", "answer": "ุดุจูุฉ ููุฏุงููู" },
            { "gibberish": "ุงู ุจ ุฑ ู ู ุฑู ู", "answer": "ุฃูุจุฑ ููุฑูู" },
            { "gibberish": "ุทู ุจ ุงุช ุฏ ูู ู ุฑู", "answer": "ุทูุจุงุช ุฏูููุฑู" },
            { "gibberish": "ูู ูู ุงู ูู ู ุงู ุงุฒ ุฑู", "answer": "ูููู ุงูููู ุงูุฃุฒุฑู" },
            { "gibberish": "ูู ุงุฏ ุฑ ุฒ ู", "answer": "ููุงุฏ ุฑุฒู" },
            { "gibberish": "ุณู ู ุฑ ู ุด ูู ุฑ", "answer": "ุณููุฑ ูุดููุฑ" },
            { "gibberish": "ุจู ู ุงู ุญ ุธ", "answer": "ุจูู ุงูุญุธ" },
            { "gibberish": "ุตุง ุญ ุจ ุช ุงู ุตุง ุญุจ", "answer": "ุตุงุญุจุฉ ุงูุตุงุญุจ" },
            { "gibberish": "ููู ุฎู ูุง ุจุงู ุงุฑ ุงู ุจ", "answer": "ูููุฎูุฉ ุจุงูุฃุฑุงูุจ" },
            { "gibberish": "ูู ู ุช ูุฑ ู ุณ ุงู ู", "answer": "ูููุฉ ูุฑูุณุงูู" },
            { "gibberish": "ุดุง ู ู ู ุงูุฎ ู ุณู ู ุง", "answer": "ุดุงู ูู ุงูุฎูุณููุฉ" },
            { "gibberish": "ุน ุต ู ุฑ ู ุต ุจ", "answer": "ุนุตูุฑ ูุตุจ" },
            { "gibberish": "ูุด ุฑู ุงู ุชุญ ุฑู ุฑ", "answer": "ูุดุฑู ุงูุชุญุฑูุฑ" },
            { "gibberish": "ุงู ุณ ู ุฑู ู", "answer": "ุฃูุณ ูุฑูู" },
            { "gibberish": "ูุง ุจ ุช ูุจ ุฏู ู", "answer": "ูุงุจุชูุจ ุฏูู" },
            { "gibberish": "ุจุง ู ุฏ ูู ุงู ุณ ุช ุฑุง", "answer": "ุจุงูุฏูู ุฅูุณุชุฑุง" },
            { "gibberish": "ู ูุง ู ู ุงู ุด ุฑ ุทุฉ", "answer": "ููุงูู ุงูุดุฑุทุฉ" },
            { "gibberish": "ุด ุงุฑ ุน ุงู ุชุณ ุน ู ู", "answer": "ุดุงุฑุน ุงูุชุณุนูู" },
            { "gibberish": "ู ุฏู ู ุช ู ู ุงู ุฑุญ ุงุจ", "answer": "ูุฏููุชู ูุงูุฑุญุงุจ" },
            { "gibberish": "ู ุฑ ูู ุด ุงู ุชู ู", "answer": "ูุฑูู ุดุงูุชูู" },
            { "gibberish": "ุจ ู ุงู ุณ ุชู ุด ู", "answer": "ุจูุงู ุณุชูุดู" },
            { "gibberish": "ู ู ู ุง ุช ูุง ุชุฉ ู ุนุด ุฑ ูู", "answer": "ูููุง 23" },
            { "gibberish": "ู ุญ ู ุฏ ุต ู ุงุญ", "answer": "ูุญูุฏ ุตูุงุญ" },
            { "gibberish": "ุน ู ุฑู ุฏ ู ุงุจ", "answer": "ุนูุฑู ุฏูุงุจ" }
        ];

        const HUM_SONGS = [
            { "song": "ุชุณูู ุงูุฃูุงุฏู", "difficulty": "ุณูู" },
            { "song": "ุจุดุฑุฉ ุฎูุฑ - ุญุณูู ุงูุฌุณูู", "difficulty": "ุณูู" },
            { "song": "3 ุฏูุงุช - ุฃุจู", "difficulty": "ุณูู" },
            { "song": "ุฅูุช ุนูุฑู (ุงูููุฏูุฉ) - ุฃู ููุซูู", "difficulty": "ุตุนุจ" },
            { "song": "ุณุทูุงูุฉ", "difficulty": "ุณูู" },
            { "song": "ูุฎุงุตูุงู - ููุงู", "difficulty": "ูุชูุณุท" },
            { "song": "ุงูุบุฒุงูุฉ ุฑุงููุฉ", "difficulty": "ุณูู" },
            { "song": "ุณุชู ุฃูุง - ุฃูุฑู ุญุณูู", "difficulty": "ุณูู" },
            { "song": "ุฃู ูู ูุนุจุช ูุง ุฒูุฑ - ุฃุญูุฏ ุดูุจุฉ", "difficulty": "ูุชูุณุท" },
            { "song": "ุนูุฏ ุงูุจุทู - ุญุณู ุดุงููุด", "difficulty": "ุณูู" },
            { "song": "ุชููู ูุนุงู - ุนูุฑู ุฏูุงุจ", "difficulty": "ูุชูุณุท" },
            { "song": "ููุฑูู - ุนูุฑู ุฏูุงุจ", "difficulty": "ูุชูุณุท" },
            { "song": "ุญุจูุจู ูุง ููุฑ ุงูุนูู - ุนูุฑู ุฏูุงุจ", "difficulty": "ุตุนุจ" },
            { "song": "ุงูุจุฎุช - ููุฌุฒ", "difficulty": "ุตุนุจ" },
            { "song": "ุงูุฏููุง ุฑุจูุน - ุณุนุงุฏ ุญุณูู", "difficulty": "ูุชูุณุท" },
            { "song": "ูุญุดุชูู - ุณุนุงุฏ ูุญูุฏ", "difficulty": "ุตุนุจ" },
            { "song": "ูุง ุทูุจ ุงูููุจ - ุนุจุฏ ุงููุฌูุฏ ุนุจุฏ ุงููู", "difficulty": "ุตุนุจ" },
            { "song": "ุฃูุง ูููุง ูุจุฑุช ุตุบูุฑ - ุนูุฑู ุฏูุงุจ", "difficulty": "ูุชูุณุท" },
            { "song": "ุฃูุงู ูู ุงูุนูุฑ - ุนูุฑู ุฏูุงุจ", "difficulty": "ุตุนุจ" },
            { "song": "ุฑุงูุญูู ูุณูุฑ - ูุญูุฏ ุฑูุถุงู", "difficulty": "ุณูู" },
            { "song": "ูุชุนูููุง - ุนูุฑู ุฏูุงุจ", "difficulty": "ูุชูุณุท" },
            { "song": "ููู ุชูุงุช - ุนูุฑู ุฏูุงุจ", "difficulty": "ูุชูุณุท" },
            { "song": "ููููููุฑ ููููููุฑ - ุงููุฏูุนุฌูุฉ", "difficulty": "ุณูู" },
            { "song": "ุฅุฎูุงุชู - ุงูุตูุงุฑูุฎ", "difficulty": "ุณูู" },
            { "song": "ุดููุงุก - ููุณู ุณูุณุชู", "difficulty": "ุณูู" },
            { "song": "ุฃูุช ุงูุญุธ - ุนูุฑู ุฏูุงุจ", "difficulty": "ูุชูุณุท" },
            { "song": "ูุงุณููู ููู - ุชุงูุฑ ุญุณูู", "difficulty": "ุตุนุจ" },
            { "song": "ููู ุงูู ูุงูุช ุจุชููููู - ุจูุงุก ุณูุทุงู", "difficulty": "ุณูู" },
            { "song": "ุงูู ุงูู - ูุงูุง ูููุงู", "difficulty": "ุตุนุจ" },
            { "song": "ุฃูู ูููุฉ ููููุฉ - ุฃู ููุซูู", "difficulty": "ุตุนุจ" },
            { "song": "ุณูุงุญ - ุนุจุฏ ุงูุญููู", "difficulty": "ุตุนุจ" }
        ];

        const MOST_LIKELY = [
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ูุชุฎุงูู ุนุดุงู ุงูุญุณุงุจุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ูุณุงูุฑ ูููุณู ูููู ูุฃูููุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ูุนูู ุญุงุฏุซุฉ ุจุงูุนุฑุจูุฉุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ููุณู ุนูุฏ ูููุงุฏ ูุฑุงุชู/ุตุงุญุจุชูุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุจูุญูุฑ ูู ุงููุตุตุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ูุตุฑู ูุฑุชุจู ูู ูููููุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุจูุงูู ููุจูุชุฎูุดุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ููุงู ูู ุงูููุงุตูุงุช ููููุชู ุงููุญุทุฉุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูุฏูู ุชูู ุชููุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุตูุชู ุนุงูู ูู ุงูููุงูุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ููุจุณ ุทูู ุบุฑูุจ ูู ูุฑุญุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ููุงุฌุฑ ููุณูุจ ุงูุจูุฏ ูุฌุฃุฉุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุจูุญุจ ุงูููุฏ ูุงูุฏุฑุงูุงุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุณู ุงูุณูุฏ ูู ููุณูุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ูููุน ุงูููุจุงูู ูููุณุฑ ุงูุดุงุดุฉุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุจูุนูู ูุตุงูุจ ููู ุตุบูุฑุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ูุชุฌูุฒ ุนุดุงู ุงููููุณุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุจูุฎุงู ูู ุงูุญุณุฏุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุจูุนูู ุฏุงูุช ูุจููุดู ูู ูุฑุฉุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ููุตู ูุชุฃุฎุฑ ุณุงุนุชููุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ูุฑูุต ูู ุงูุดุงุฑุน ูู ุณูุน ุฃุบููุฉ ุจูุญุจูุงุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุจูุญุจ ููุชู ูู ุฃู ุญุงุฌุฉุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุนูุฏู ุฅูุณุงุช ูุชูุฑุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ููุณู ุงุณู ุญุฏ ููู ุจูุณูู ุนูููุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ููุน ููู ูุงุดู ูู ุงูุดุงุฑุนุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูุฏูู ูููุฉุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุจูุฎุงู ูู ุงูููุงุจุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ูุนูุท ูู ูููู ุฑููุงูุณูุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุจูุถุญู ูู ุงูููุงูู ุงูุฌุฏุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุตุฑูุญ ูุฏุฑุฌุฉ ุงูููุงุญุฉุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ูุถุฑุจ ุญุฏ ูู ุฎูุงูุฉุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุจูุญุจ ูุตูุฑ ุงูุฃูู ูุจู ูุง ูุงูููุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ููุจุณ ุดุฑุงุจ ููุทูุนุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุจูุดุฎุฑ ููู ูุงููุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ููุณู ูุญูุธุชู ูู ุงูุจูุชุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ุจูุญุจ ููุนุฏ ูู ุงูุจูุช ููุจููุฒูุดุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ูุดุชุบู ุดุบูุงูุฉ ูุด ูุงูู ูููุง ุญุงุฌุฉุ",
            "ููู ุฃูุชุฑ ูุงุญุฏ ูููู ูุญูู ุญูุงูุฉ ุบุฑูุจุฉุ"
        ];

        // ===== AUDIO =====
        function playSound(type) {
            if (state.isMuted) return;
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            if (!AudioContext) return;
            const ctx = new AudioContext();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();
            osc.connect(gain);
            gain.connect(ctx.destination);
            const now = ctx.currentTime;
            
            if (type === 'tick') {
                osc.type = 'sine';
                osc.frequency.setValueAtTime(800, now);
                gain.gain.setValueAtTime(0.1, now);
                gain.gain.exponentialRampToValueAtTime(0.01, now + 0.5);
                osc.start(now);
                osc.stop(now + 0.5);
            } else if (type === 'fail') {
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(150, now);
                gain.gain.setValueAtTime(0.2, now);
                gain.gain.linearRampToValueAtTime(0.01, now + 0.5);
                osc.start(now);
                osc.stop(now + 0.5);
            } else if (type === 'click') {
                osc.type = 'sine';
                osc.frequency.setValueAtTime(1200, now);
                gain.gain.setValueAtTime(0.05, now);
                osc.start(now);
                osc.stop(now + 0.03);
            } else if (type === 'success') {
                osc.type = 'triangle';
                osc.frequency.setValueAtTime(440, now);
                osc.frequency.exponentialRampToValueAtTime(880, now + 0.1);
                gain.gain.setValueAtTime(0.1, now);
                osc.start(now);
                osc.stop(now + 0.3);
            }
        }

        // ===== HELPERS =====
        function toggleMute() {
            state.isMuted = !state.isMuted;
            const btn = document.getElementById('muteBtn');
            btn.innerHTML = state.isMuted 
                ? '<svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line></svg>'
                : '<svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>';
            playSound('click');
        }

        function goHome() {
            playSound('click');
            state.screen = 'home';
            state.currentGame = null;
            render();
        }

        function navigate(screen) {
            playSound('click');
            state.screen = screen;
            render();
        }

        function updateScore(id, isTeam, points = 1) {
            if (isTeam) {
                state.teams = state.teams.map(t => t.id === id ? {...t, score: t.score + points} : t);
            } else {
                state.players = state.players.map(p => p.id === id ? {...p, score: p.score + points} : p);
            }
            playSound('success');
        }

        function showDare() {
            const dare = DARES_LIST[Math.floor(Math.random() * DARES_LIST.length)];
            playSound('fail');
            const modal = `
                <div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in">
                    <div class="bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl text-center border-4 border-red-500">
                        <svg class="mx-auto text-red-500 mb-4" width="48" height="48" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="15" y1="9" x2="9" y2="9"></line>
                            <line x1="9" y1="15" x2="15" y2="15"></line>
                        </svg>
                        <h2 class="text-2xl font-black text-red-600 mb-2">ุนูููููุงุจ!</h2>
                        <p class="text-xl font-bold text-slate-800 mb-6 leading-relaxed">"${dare}"</p>
                        <button onclick="this.closest('.fixed').remove()" class="w-full py-3 bg-slate-800 text-white rounded-xl font-bold">ููุฐุช ุฎูุงุต</button>
                    </div>
                </div>
            `;
            document.body.insertAdjacentHTML('beforeend', modal);
        }

        // ===== RENDER FUNCTIONS =====
        function render() {
            const container = document.getElementById('screen-container');
            
            if (state.screen === 'home') container.innerHTML = renderHome();
            else if (state.screen === 'players') container.innerHTML = renderPlayers();
            else if (state.screen === 'scores') container.innerHTML = renderScores();
            else if (state.screen === 'spy_setup') container.innerHTML = renderSpySetup();
            else if (state.screen === 'charades_setup') container.innerHTML = renderCharadesSetup();
            else if (state.screen === 'quotes_setup') container.innerHTML = renderQuotesSetup();
            else if (state.screen === 'five_second_setup') container.innerHTML = renderFiveSecondSetup();
            else if (state.screen === 'bus_setup') container.innerHTML = renderBusSetup();
            else if (state.screen === 'liar_setup') container.innerHTML = renderLiarSetup();
            else if (state.screen === 'auction_setup') container.innerHTML = renderAuctionSetup();
            else if (state.screen === 'gibberish_setup') container.innerHTML = renderGibberishSetup();
            else if (state.screen === 'hum_setup') container.innerHTML = renderHumSetup();
            else if (state.screen === 'likely_setup') container.innerHTML = renderLikelySetup();
        }

        function renderHome() {
            return `
                <div class="flex flex-col items-center justify-center h-screen p-6 space-y-6">
                    <div class="text-center space-y-2 pt-10">
                        <div class="inline-block p-4 rounded-full bg-gradient-to-tr from-amber-400 to-rose-500 shadow-lg mb-2">
                            <svg class="text-white w-10 h-10" fill="currentColor" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
                        </div>
                        <h1 class="text-5xl font-black text-slate-800">ูุนุจุฉ ุงููุนุฏุฉ</h1>
                        <p class="text-lg text-slate-500 font-medium">ุงูููุฉ ูุชุญูุงุด ุบูุฑ ุจููุง</p>
                    </div>

                    <div class="w-full space-y-3 flex-1 flex flex-col overflow-y-auto pb-4">
                        ${menuButton('five_second_setup', 'โฑ๏ธ', 'ุฎูุณุฉ ุนููู', 'ุณุคุงู ุจู 5 ุซูุงูู', 'bg-teal-600')}
                        ${menuButton('spy_setup', '๐ต๏ธ', 'ุงูุฌุงุณูุณ', 'ููู ุงูุบุฑูุจ ูุณุทูุงุ', 'bg-indigo-600')}
                        ${menuButton('charades_setup', '๐ญ', 'ุจุฏูู ููุงู', 'ุชูุซูู.. ูุฑุฏู ุฃู ูุฑู', 'bg-rose-600')}
                        ${menuButton('quotes_setup', '๐ฌ', 'ุงูุงูููุงุช', 'ุณููุน ูููู ุงููููู', 'bg-emerald-600')}
                        ${menuButton('bus_setup', '๐', 'ุฃูุชูุจูุณ ูููุจููุช', 'ุฃูู ุญุฑู ุงูููุฑุฉ', 'bg-purple-600')}
                        ${menuButton('liar_setup', '๐', 'ุงููุงุฑุช ุงููุฏุงุจ', 'ุงูุณู ุงููุฐุจุฉ', 'bg-orange-600')}
                        ${menuButton('auction_setup', '๐จ', 'ุงููุฒุงุฏ', 'ุซูุฉ ููุนูููุงุช', 'bg-cyan-600')}
                        ${menuButton('gibberish_setup', '๐ฃ๏ธ', 'ูู ุงูุดูุฑุฉ', 'Mad Gab', 'bg-pink-600')}
                        ${menuButton('hum_setup', '๐ต', 'ุทุฑุจูู ุดูุฑุงู', 'ููููุฉ ุงููุญู', 'bg-yellow-600')}
                        ${menuButton('likely_setup', '๐', 'ููู ุงููุงุฑุซุฉุ', 'Most likely to', 'bg-red-600')}
                    </div>

                    <div class="w-full bg-slate-50 p-4 rounded-xl border border-slate-100">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-2 text-slate-600 font-bold">
                                <span>ููุฏ ุงูุนูุงุจ (Dares)</span>
                            </div>
                            <button onclick="state.daresEnabled = !state.daresEnabled; render();" 
                                class="w-12 h-6 rounded-full transition relative ${state.daresEnabled ? 'bg-red-500' : 'bg-slate-300'}">
                                <div class="w-4 h-4 bg-white rounded-full absolute top-1 transition-all ${state.daresEnabled ? 'left-1' : 'left-7'}"></div>
                            </button>
                        </div>
                    </div>

                    <div class="flex gap-4 w-full mt-2">
                        <button onclick="navigate('players')" class="flex-1 flex flex-col items-center justify-center p-3 bg-white border border-slate-200 shadow-sm rounded-xl text-slate-600 hover:bg-slate-50">
                            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                            <span class="font-bold text-sm mt-1">ุงููุงุนุจูู</span>
                        </button>
                        <button onclick="navigate('scores')" class="flex-1 flex flex-col items-center justify-center p-3 bg-white border border-slate-200 shadow-sm rounded-xl text-slate-600 hover:bg-slate-50">
                            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path><path d="M4 22h16"></path><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path></svg>
                            <span class="font-bold text-sm mt-1">ุงููุชุงุฆุฌ</span>
                        </button>
                    </div>
                </div>
            `;
        }

        function menuButton(screen, emoji, title, subtitle, color) {
            return `
                <button onclick="navigate('${screen}')" class="w-full p-5 rounded-2xl shadow-lg text-white flex items-center justify-between transition transform active:scale-95 hover:scale-[1.02] ${color}">
                    <div class="flex items-center gap-4">
                        <div class="text-4xl">${emoji}</div>
                        <div class="text-right">
                            <span class="text-xl font-bold block">${title}</span>
                            <span class="text-sm opacity-90">${subtitle}</span>
                        </div>
                    </div>
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                </button>
            `;
        }

        function renderPlayers() {
            return `
                <div class="p-6 h-screen flex flex-col">
                    ${header('ุฅุฏุงุฑุฉ ุงููุงุนุจูู', 'home')}
                    
                    <form onsubmit="addPlayer(event)" class="flex gap-2 mb-6">
                        <input type="text" id="newPlayerName" placeholder="ุงุณู ุงููุงุนุจ ุงูุฌุฏูุฏ..." 
                            class="flex-1 p-3 border-2 border-amber-200 rounded-lg focus:outline-none focus:border-amber-500 text-lg bg-white">
                        <button type="submit" class="bg-amber-500 text-white p-3 rounded-lg font-bold hover:bg-amber-600">ุฅุถุงูุฉ</button>
                    </form>

                    <div class="flex-1 overflow-y-auto space-y-3">
                        ${state.players.map(p => `
                            <div class="flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-100">
                                <span class="font-bold text-lg text-slate-700">${p.name}</span>
                                <button onclick="removePlayer(${p.id})" class="text-red-400 hover:text-red-600 bg-red-50 p-2 rounded-full">
                                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                                </button>
                            </div>
                        `).join('')}
                        ${state.players.length === 0 ? '<div class="text-center text-slate-400 mt-10">ูุณู ูููุด ุญุฏ.. ุถูู ุตุญุงุจู!</div>' : ''}
                    </div>
                </div>
            `;
        }

        function renderScores() {
            const sortedPlayers = [...state.players].sort((a, b) => b.score - a.score);
            return `
                <div class="p-6 h-screen flex flex-col">
                    ${header('ููุญุฉ ุงูุดุฑู', 'home')}
                    
                    <div class="flex-1 overflow-y-auto space-y-4">
                        ${sortedPlayers.map((p, i) => `
                            <div class="flex items-center p-4 rounded-xl shadow-sm border border-slate-100 bg-white">
                                <div class="w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ml-4 ${i === 0 ? 'bg-yellow-400 text-white' : 'bg-slate-200 text-slate-600'}">${i + 1}</div>
                                <div class="flex-1 font-bold text-lg text-slate-800">${p.name}</div>
                                <div class="font-black text-2xl text-indigo-600">${p.score}</div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <button onclick="resetScores()" class="mt-4 w-full py-4 bg-slate-800 text-white rounded-xl font-bold text-lg shadow-lg hover:bg-slate-900">
                        ุชุตููุฑ ุงูุนุฏุงุฏ
                    </button>
                </div>
            `;
        }

        // Game Setups - Full Working Implementations
        function renderSpySetup() {
            if (!state.currentGame || state.currentGame.type !== 'spy') {
                const categories = Object.keys(SPY_CATEGORIES);
                return `
                    <div class="p-6 h-screen flex flex-col">
                        ${header('๐ต๏ธ ุงูุฌุงุณูุณ', 'home')}
                        
                        <div class="bg-white p-6 rounded-2xl border border-indigo-100 shadow-sm mb-4">
                            <h3 class="font-bold text-indigo-800 mb-4 text-lg">ุงุฎุชุงุฑ ุงููุณู:</h3>
                            <div class="grid grid-cols-2 gap-3 max-h-64 overflow-y-auto">
                                ${categories.map(cat => `
                                    <button onclick="startSpyGame('${cat}')" class="p-3 rounded-lg font-bold text-sm transition bg-slate-100 text-slate-600 hover:bg-indigo-100 hover:text-indigo-700">
                                        ${cat}
                                    </button>
                                `).join('')}
                            </div>
                        </div>

                        <div class="bg-indigo-50 p-4 rounded-xl mb-4">
                            <p class="text-sm text-indigo-800"><b>ุงููุงุนุฏุฉ:</b> ูู ุงููุงุนุจูู ููุงุฎุฏูุง ููุณ ุงููููุฉ ุฅูุง ูุงุญุฏ "ุงูุฌุงุณูุณ". ุฎูููุง ููู ุงูุฌุงุณูุณ!</p>
                        </div>
                    </div>
                `;
            }

            const game = state.currentGame;
            if (game.phase === 'reveal') {
                const player = state.players[game.currentPlayerIndex];
                const isSpy = game.currentPlayerIndex === game.spyIndex;
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-indigo-900 text-white text-center animate-in">
                        <div class="mb-8">
                            <h2 class="text-2xl font-light text-indigo-200">ุงูุฏูุฑ ุนูู</h2>
                            <h1 class="text-4xl font-black mt-2 text-yellow-400">${player.name}</h1>
                        </div>

                        <div onclick="revealSpyWord()" class="w-full max-w-xs aspect-square bg-indigo-800 rounded-3xl flex items-center justify-center border-4 border-indigo-700 shadow-2xl mb-8 cursor-pointer">
                            ${game.revealed ? `
                                <div class="flex flex-col items-center animate-in">
                                    <span class="text-lg text-indigo-300 mb-2">ูููุชู ูู:</span>
                                    <h2 class="text-4xl font-black text-white px-4">${isSpy ? 'ุฃูุช ุงูุฌุงุณูุณ ๐ต๏ธ' : game.word}</h2>
                                </div>
                            ` : `
                                <div class="flex flex-col items-center animate-pulse">
                                    <div class="text-6xl mb-4">๐๏ธ</div>
                                    <span class="font-bold text-xl">ุฏูุณ ุนุดุงู ุชุดูู ูููุชู</span>
                                </div>
                            `}
                        </div>

                        <button onclick="nextSpyPlayer()" class="w-full py-4 bg-yellow-500 text-indigo-900 rounded-xl font-bold text-xl shadow-lg">
                            ${game.revealed ? (game.currentPlayerIndex < state.players.length - 1 ? "ุงููู ุจุนุฏู" : "ุจุฏุก ุงูููุงูุดุฉ") : "ุฅุธูุงุฑ ุงููููุฉ"}
                        </button>
                    </div>
                `;
            }

            if (game.phase === 'discuss') {
                return `
                    <div class="h-screen flex flex-col p-6 bg-slate-50">
                        <div class="text-center mt-10 mb-10">
                            <h2 class="text-2xl font-bold text-slate-800 mb-2">ููุช ุงูุชุญููู! ๐ต๏ธโโ๏ธ</h2>
                            <p class="text-slate-500">ุงุณุฃููุง ุจุนุถ ูุญุงูููุง ุชุทูุนูุง ุงูุฌุงุณูุณ</p>
                            <div class="mt-4 text-6xl">${getTimer(game.timeLeft)}</div>
                        </div>
                        
                        <button onclick="endSpyGame()" class="w-full py-4 bg-red-600 text-white rounded-xl font-bold text-xl shadow-lg mt-auto">
                            ุนุฑููุง ุงูุฌุงุณูุณ! (ุฅููุงุก)
                        </button>
                    </div>
                `;
            }

            if (game.phase === 'result') {
                const spy = state.players[game.spyIndex];
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-slate-900 text-white text-center animate-in">
                        <h2 class="text-2xl text-slate-400 mb-4">ุงูุฌุงุณูุณ ูุงู...</h2>
                        <div class="text-5xl font-black text-red-500 mb-2 animate-bounce">${spy.name}</div>
                        <div class="text-xl text-slate-400 mb-8">ุงููููุฉ ูุงูุช: <span class="text-yellow-400 font-bold">${game.word}</span></div>

                        ${state.daresEnabled ? `
                            <button onclick="showDare()" class="w-full py-3 bg-red-600 text-white rounded-xl font-bold mb-4 flex items-center justify-center gap-2">
                                ๐ ุนุงูุจ ุงูุฌุงุณูุณ
                            </button>
                        ` : ''}

                        <div class="grid grid-cols-2 gap-4 w-full">
                            <button onclick="navigate('home')" class="p-4 bg-slate-700 rounded-xl font-bold">ุฎุฑูุฌ</button>
                            <button onclick="restartSpyGame()" class="p-4 bg-indigo-600 rounded-xl font-bold">ุฌููุฉ ุฌุฏูุฏุฉ</button>
                        </div>
                    </div>
                `;
            }
        }

        function renderCharadesSetup() {
            if (!state.currentGame || state.currentGame.type !== 'charades') {
                const categories = Object.keys(CHARADES_DATA);
                return `
                    <div class="p-6 h-screen flex flex-col">
                        ${header('๐ญ ุจุฏูู ููุงู', 'home')}
                        
                        <div class="space-y-4 mb-4">
                            <h3 class="font-bold text-slate-800">ุงุฎุชุงุฑ ุงููุฆุฉ:</h3>
                            <div class="flex flex-wrap gap-2">
                                ${categories.map(cat => `
                                    <button onclick="startCharadesGame('${cat}')" class="px-4 py-2 rounded-full border-2 font-bold transition bg-white border-slate-200 text-slate-600 hover:bg-rose-100 hover:border-rose-500">
                                        ${cat}
                                    </button>
                                `).join('')}
                            </div>
                        </div>

                        <div class="bg-rose-50 p-4 rounded-xl flex-1 flex items-center">
                            <p class="text-sm text-rose-800"><b>ุงููุงุนุฏุฉ:</b> ูุซูู ุจุฏูู ููุงู! ููููุน ุชุชููู ุฃู ุชุดุงูุฑ ุจุตูุงุจุนู ุนูู ุฃุฑูุงู ุฃู ุญุฑูู.</p>
                        </div>
                    </div>
                `;
            }

            const game = state.currentGame;
            if (game.phase === 'prepare') {
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-rose-600 text-white text-center animate-in">
                        <p class="text-xl opacity-80 mb-2">ุงูุฏูุฑ ุนูู</p>
                        <h1 class="text-4xl font-black mb-8">${game.actor.name}</h1>
                        <div class="bg-white/10 p-6 rounded-2xl border-2 border-white/20 w-full mb-8 relative overflow-hidden">
                            ${!game.revealed ? `
                                <div onclick="state.currentGame.revealed = true; render()" class="absolute inset-0 bg-rose-800 z-10 flex items-center justify-center cursor-pointer hover:bg-rose-700 transition">
                                    <span class="text-xl font-bold animate-pulse">ุฏูุณ ุนุดุงู ุชุดูู ุงููููุฉ</span>
                                </div>
                            ` : ''}
                            <p class="text-sm mb-2 opacity-75">ูุทููุจ ุชูุซูู:</p>
                            <h2 class="text-3xl font-bold text-yellow-300">${game.word}</h2>
                        </div>
                        <button onclick="startCharadesRound()" class="w-full py-4 bg-white text-rose-700 rounded-xl font-bold text-xl">ุฌุงูุฒ! ุงุจุฏุฃ ุงููุคูุช</button>
                    </div>
                `;
            }

            if (game.phase === 'acting') {
                return `
                    <div class="h-screen flex flex-col p-6 bg-white">
                        <div class="text-center mt-4 mb-8">
                            <h2 class="text-slate-500">ุงูููุซู: <span class="font-bold text-rose-600">${game.actor.name}</span></h2>
                            <h1 class="text-4xl font-black text-slate-800 mt-2">${game.word}</h1>
                        </div>
                        
                        <div class="flex-1 flex justify-center items-center">
                            <div class="text-8xl font-black text-rose-600">${getTimer(game.timeLeft)}</div>
                        </div>

                        <div class="space-y-3">
                            <button onclick="charadesSuccess()" class="w-full py-4 bg-green-500 text-white rounded-xl font-bold text-xl shadow-lg flex items-center justify-center gap-2">
                                โ ุนุฑูููุง!
                            </button>
                            <button onclick="charadesFail()" class="w-full py-3 bg-slate-200 text-slate-600 rounded-xl font-bold">
                                ูุนุฑููุด (ุชุฎุทู)
                            </button>
                        </div>
                    </div>
                `;
            }
        }

        function renderQuotesSetup() {
            if (!state.currentGame || state.currentGame.type !== 'quotes') {
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-emerald-50">
                        ${header('๐ฌ ุงูุงูููุงุช', 'home')}
                        <div class="text-6xl mb-6">๐ฌ</div>
                        <h2 class="text-2xl font-bold text-emerald-800 mb-2">ูุนุจุฉ ุงูุงูููุงุช</h2>
                        <p class="text-center text-slate-600 mb-8 max-w-xs">ูุงุญุฏ ูููุฑุฃ ุงูุงูููุ ูุงูุจุงูู ูุงุฒู ูุฎูู ุงุณู ุงููููู/ุงููุณุฑุญูุฉ ูุงูููุซู.</p>
                        <button onclick="startQuotesGame()" class="w-full max-w-xs py-4 bg-emerald-600 text-white rounded-xl font-bold text-xl shadow-lg">ุงุจุฏุฃ ุงููุนุจ</button>
                    </div>
                `;
            }

            const game = state.currentGame;
            if (game.phase === 'play') {
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-emerald-700 text-white text-center animate-in">
                        <p class="text-emerald-200 mb-2">ุงูุฏูุฑ ุนูู: <span class="font-bold text-white text-lg">${game.reader.name}</span></p>
                        <div class="text-sm bg-black/20 px-3 py-1 rounded-full mb-8">ุงูุฑุฃ ุงูุงููู ุจุตูุช ุนุงูู</div>
                        
                        <div class="relative mb-10 w-full">
                            ${!game.revealed ? `
                                <div onclick="state.currentGame.revealed = true; render()" class="absolute inset-0 bg-emerald-800 z-10 rounded-xl flex items-center justify-center cursor-pointer hover:bg-emerald-900 transition h-32">
                                    <span class="text-xl font-bold animate-pulse">ุฏูุณ ุนุดุงู ุชุดูู ุงูุงููู</span>
                                </div>
                            ` : `
                                <div class="text-6xl absolute -top-8 -right-4 text-emerald-400 opacity-50">"</div>
                                <h2 class="text-3xl font-black leading-relaxed px-4">${game.quote.quote}</h2>
                                <div class="text-6xl absolute -bottom-12 -left-4 text-emerald-400 opacity-50">"</div>
                            `}
                        </div>

                        ${game.revealed ? `
                        <button onclick="revealQuoteAnswer()" class="w-full py-4 bg-white text-emerald-800 rounded-xl font-bold text-xl shadow-lg mt-8">
                            ุฅุธูุงุฑ ุงูุฅุฌุงุจุฉ
                        </button>
                        ` : ''}
                    </div>
                `;
            }

            if (game.phase === 'answer') {
                return `
                    <div class="h-screen flex flex-col p-6 bg-white">
                        <div class="text-center mt-8 mb-8 border-b-2 border-slate-100 pb-8">
                            <h2 class="text-slate-500 mb-2">ุงูุงููู ูุงู:</h2>
                            <p class="text-xl font-bold text-slate-800 mb-6">"${game.quote.quote}"</p>
                            
                            <div class="space-y-2">
                                <div class="inline-block px-4 py-2 bg-emerald-100 text-emerald-800 rounded-lg font-bold mx-1">๐ฌ ${game.quote.work}</div>
                                <div class="inline-block px-4 py-2 bg-amber-100 text-amber-800 rounded-lg font-bold mx-1">๐ค ${game.quote.actor}</div>
                            </div>
                        </div>

                        <h3 class="text-center font-bold text-slate-700 mb-4">ููู ุนุฑููุงุ</h3>
                        <div class="grid grid-cols-2 gap-3 flex-1 overflow-y-auto pb-4">
                            ${state.players.filter(p => p.id !== game.reader.id).map(p => `
                                <button onclick="quotePlayerWins(${p.id})" class="p-3 bg-slate-50 border border-slate-200 rounded-lg font-semibold text-slate-700 hover:bg-emerald-50">
                                    ${p.name}
                                </button>
                            `).join('')}
                        </div>
                        
                        <div class="mt-4 space-y-2">
                            <button onclick="nextQuoteRound()" class="w-full py-3 bg-slate-800 text-white rounded-xl font-bold">ูุญุฏุด ุนุฑู (ุงูุชุงูู)</button>
                        </div>
                    </div>
                `;
            }
        }

        function renderFiveSecondSetup() {
            if (!state.currentGame || state.currentGame.type !== 'fivesecond') {
                return `
                    <div class="p-6 h-screen flex flex-col">
                        ${header('โฑ๏ธ ุฎูุณุฉ ุนููู', 'home')}
                        
                        <div class="flex-1 flex flex-col justify-center items-center text-center">
                            <div class="text-6xl mb-6">โฑ๏ธ</div>
                            <h3 class="text-xl font-bold text-slate-800 mb-2">ุงููุงุนุฏุฉ ุจุณูุทุฉ:</h3>
                            <p class="text-slate-600 max-w-xs">ุงุฐูุฑ ูฃ ุฃุดูุงุก ูู ูฅ ุซูุงูู. ูู ูุฌุญุช ุชุงุฎุฏ ููุทุฉุ ูู ูุดูุช.. ูุง ูููู!</p>
                        </div>
                        
                        <button onclick="startFiveSecondGame()" class="w-full py-4 bg-teal-600 text-white rounded-xl font-bold text-xl shadow-lg">
                            ุงุจุฏุฃ ุฃูู ุฌููุฉ
                        </button>
                    </div>
                `;
            }

            const game = state.currentGame;
            if (game.phase === 'prepare') {
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-teal-600 text-white text-center animate-in">
                        <p class="text-xl opacity-80 mb-2">ุงูุฏูุฑ ุนูู</p>
                        <h1 class="text-4xl font-black mb-8">${game.player.name}</h1>
                        <div class="bg-white/10 p-6 rounded-2xl border-2 border-white/20 w-full mb-8 relative overflow-hidden">
                            ${!game.revealed ? `
                                <div onclick="state.currentGame.revealed = true; render()" class="absolute inset-0 bg-teal-800 z-10 flex items-center justify-center cursor-pointer hover:bg-teal-700 transition">
                                    <span class="text-xl font-bold animate-pulse">ุฏูุณ ุนุดุงู ุชุดูู ุงูุณุคุงู</span>
                                </div>
                            ` : ''}
                            <p class="text-sm mb-2 opacity-75">ูุทููุจ ุงูุฅุฌุงุจุฉ ุนูู:</p>
                            <h2 class="text-3xl font-bold text-yellow-300">${game.question.text}</h2>
                        </div>
                        <button onclick="startFiveSecondRound()" class="w-full py-4 bg-white text-teal-700 rounded-xl font-bold text-xl" ${!game.revealed ? 'disabled opacity-50' : ''}>ุฌุงูุฒ! ุงุจุฏุฃ ุงูุฌููุฉ</button>
                    </div>
                `;
            }

            if (game.phase === 'playing') {
                return `
                    <div class="h-screen flex flex-col p-6 bg-white">
                        <div class="text-center mt-4 mb-8">
                            <h2 class="text-slate-500">ุงููุงุนุจ: <span class="font-bold text-teal-600">${game.player.name}</span></h2>
                            <h1 class="text-3xl font-black text-slate-800 mt-2">${game.question.text}</h1>
                        </div>
                        
                        <div class="flex-1 flex justify-center items-center">
                            <div class="text-9xl font-black ${game.timeLeft <= 2 ? 'text-red-600 animate-pulse' : 'text-teal-600'}">${game.timeLeft}</div>
                        </div>

                        <div class="space-y-3">
                            <button onclick="fiveSecondSuccess()" class="w-full py-4 bg-green-500 text-white rounded-xl font-bold text-xl shadow-lg flex items-center justify-center gap-2">
                                โ ุฃุญุณูุช! (ุฃุฌุงุจ ุตุญ)
                            </button>
                            <button onclick="fiveSecondFail()" class="w-full py-3 bg-red-500 text-white rounded-xl font-bold shadow-lg flex items-center justify-center gap-2">
                                ๐ ูุดู! (ุนููุจุฉ)
                            </button>
                        </div>
                    </div>
                `;
            }
        }

        function renderBusSetup() {
            if (!state.currentGame || state.currentGame.type !== 'bus') {
                return `
                    <div class="p-6 h-screen flex flex-col">
                        ${header('๐ ุฃูุชูุจูุณ ูููุจููุช', 'home')}
                        
                        <div class="flex-1 flex flex-col justify-center items-center text-center">
                            <div class="text-6xl mb-6">๐</div>
                            <h2 class="text-2xl font-bold text-purple-800 mb-4">ุงููุงุนุฏุฉ:</h2>
                            <p class="text-slate-600 max-w-sm mb-8">ูู ุฌููุฉ ุชุธูุฑ ูุฆุฉ ูุงูุญุฑู ุงูุฃูู. ูู ูกู ุซูุงูู ูู ูุงุนุจ ูููู ูููุฉ ุชุจุฏุฃ ุจุงูุญุฑู. ูู ูุฌุญุชูุง ูููู +ูก ููู ูุงุฌุญ!</p>
                        </div>
                        
                        <button onclick="startBusGame()" class="w-full py-4 bg-purple-600 text-white rounded-xl font-bold text-xl shadow-lg">
                            ุงุจุฏุฃ ุงููุนุจุฉ
                        </button>
                    </div>
                `;
            }

            const game = state.currentGame;
            
            if (game.phase === 'ready') {
                const currentPlayer = state.players[game.playerIndex];
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-purple-600 text-white text-center animate-in">
                         <div class="text-2xl opacity-80 mb-2">ุงูุฏูุฑ ุนูู:</div>
                        <div class="text-5xl font-bold mb-10">${currentPlayer.name}</div>
                        <div onclick="startBusTimerNow()" class="w-40 h-40 bg-purple-500 rounded-full flex items-center justify-center cursor-pointer shadow-lg animate-pulse hover:scale-105 transition border-4 border-white/20">
                            <span class="text-2xl font-bold">ุฏูุณ<br>ุนุดุงู ุชุจุฏุฃ</span>
                        </div>
                    </div>
                `;
            }

            if (game.phase === 'playing') {
                const currentPlayer = state.players[game.playerIndex];
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-purple-600 text-white text-center">
                        <div class="bg-white/20 p-6 rounded-3xl mb-8 w-full">
                            <div class="text-sm opacity-80 mb-2">ุงููุฆุฉ</div>
                            <div class="text-4xl font-black mb-4">${game.category.name}</div>
                            <div class="text-sm opacity-80 mb-2">ุงูุญุฑู</div>
                            <div class="text-6xl font-black text-yellow-300">${game.letter}</div>
                        </div>

                        <div class="mb-6">
                            <div class="text-lg opacity-90 mb-2">ุงูุฏูุฑ ุนูู:</div>
                            <div class="text-3xl font-bold">${currentPlayer.name}</div>
                        </div>

                        <div class="text-7xl font-black mb-8">${game.timeLeft}</div>

                        <div class="grid grid-cols-2 gap-3 w-full">
                            <button onclick="busPlayerSuccess()" class="py-3 bg-green-500 rounded-xl font-bold">โ ูุฌุญ</button>
                            <button onclick="busPlayerFail()" class="py-3 bg-red-500 rounded-xl font-bold">โ ูุดู</button>
                        </div>
                    </div>
                `;
            }

            if (game.phase === 'result') {
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-purple-900 text-white text-center">
                        <h2 class="text-3xl font-bold mb-6">ูุชูุฌุฉ ุงูุฌููุฉ!</h2>
                        <div class="bg-white/10 p-6 rounded-2xl w-full mb-8">
                            ${game.results.map(r => `
                                <div class="flex justify-between items-center py-2 border-b border-white/20">
                                    <span>${r.player.name}</span>
                                    <span class="text-2xl">${r.success ? 'โ' : 'โ'}</span>
                                </div>
                            `).join('')}
                        </div>
                        <button onclick="nextBusRound()" class="w-full py-4 bg-purple-500 rounded-xl font-bold text-xl">ุฌููุฉ ุฌุฏูุฏุฉ</button>
                        <button onclick="navigate('home')" class="w-full py-3 bg-slate-700 rounded-xl font-bold mt-3">ุฎุฑูุฌ</button>
                    </div>
                `;
            }
        }

        function renderLiarSetup() {
            if (!state.currentGame || state.currentGame.type !== 'liar') {
                return `
                    <div class="p-6 h-screen flex flex-col">
                        ${header('๐ ุงููุงุฑุช ุงููุฏุงุจ', 'home')}
                        
                        <div class="flex-1 flex flex-col justify-center items-center text-center">
                            <div class="text-6xl mb-6">๐</div>
                            <h2 class="text-2xl font-bold text-orange-800 mb-4">ุงููุงุนุฏุฉ:</h2>
                            <p class="text-slate-600 max-w-sm mb-8">ูู ูุงุฑุช ููู ูฃ ุญูุงุฆูุ ููู ูุงุญุฏุฉ ูุฐุจุฉ. ุงูุณู ุงููุฐุจุฉ ูู ูกูฅ ุซุงููุฉ!</p>
                        </div>
                        
                        <button onclick="startLiarGame()" class="w-full py-4 bg-orange-600 text-white rounded-xl font-bold text-xl shadow-lg">
                            ุงุจุฏุฃ ุงููุนุจุฉ
                        </button>
                    </div>
                `;
            }

            const game = state.currentGame;
            
            if (game.phase === 'ready') {
                 return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-orange-600 text-white text-center animate-in">
                        <div class="text-6xl mb-6">๐</div>
                        <h2 class="text-3xl font-bold mb-8">ุฌุงูุฒ ูุง ุจุทูุ</h2>
                        <p class="text-xl opacity-90 mb-10">ูุฏูู ุงูููุจุงูู.. ุงูุฑุฃ ุงูู 3 ุญูุงุฆู ุจุณุฑุนุฉ!</p>
                        
                        <div onclick="startLiarTimerNow()" class="w-full py-6 bg-white text-orange-700 rounded-2xl font-black text-2xl shadow-xl cursor-pointer hover:bg-orange-50 transition">
                            ุฏูุณ ุนุดุงู ุชุดูู ุงููุงุฑุช<br><span class="text-sm font-normal text-slate-500">(ุงูุนุฏุงุฏ ููุจุฏุฃ ููุฑุงู!)</span>
                        </div>
                    </div>
                `;
            }

            if (game.phase === 'reading') {
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-orange-600 text-white text-center">
                        <h2 class="text-3xl font-bold mb-6">${game.card.topic}</h2>
                        
                        <div class="bg-white/20 p-6 rounded-2xl w-full mb-8 space-y-4">
                            ${game.card.facts.map((fact, i) => `
                                <button onclick="selectLiarFact(${i})" class="w-full p-4 bg-white/10 hover:bg-white/30 rounded-xl text-right ${game.selectedFact === i ? 'ring-4 ring-yellow-300' : ''}">
                                    <span class="font-bold">${i + 1}.</span> ${fact}
                                </button>
                            `).join('')}
                        </div>

                        <div class="text-5xl font-black mb-6">${game.timeLeft}</div>

                        <button onclick="revealLiarCard()" class="w-full py-4 bg-white text-orange-700 rounded-xl font-bold text-xl" ${game.selectedFact === null ? 'disabled opacity-50' : ''}>
                            ูุดู ุงูุฅุฌุงุจุฉ
                        </button>
                    </div>
                `;
            }

            if (game.phase === 'result') {
                const lieIndex = 2; // ุงููุฐุจุฉ ุฏุงุฆูุงู ูู ุงูุฎูุงุฑ ุงูุซุงูุซ
                const isCorrect = game.selectedFact === lieIndex;
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 ${isCorrect ? 'bg-green-600' : 'bg-red-600'} text-white text-center animate-in">
                        <div class="text-6xl mb-6">${isCorrect ? 'โ' : 'โ'}</div>
                        <h2 class="text-3xl font-bold mb-4">${isCorrect ? 'ุตุญ! ุฃุญุณูุช!' : 'ุบูุท!'}</h2>
                        <p class="text-xl mb-8">ุงููุฐุจุฉ ูุงูุช: "${game.card.facts[lieIndex]}"</p>
                        
                        ${isCorrect ? `
                            <button onclick="liarGameAddPoint()" class="w-full py-3 bg-white/20 rounded-xl font-bold mb-3">+ูก ููุทุฉ</button>
                        ` : state.daresEnabled ? `
                            <button onclick="showDare()" class="w-full py-3 bg-white/20 rounded-xl font-bold mb-3">๐ ุนูุงุจ</button>
                        ` : ''}
                        
                        <button onclick="nextLiarRound()" class="w-full py-4 bg-white text-orange-700 rounded-xl font-bold">ุฌููุฉ ุฌุฏูุฏุฉ</button>
                        <button onclick="navigate('home')" class="w-full py-3 bg-slate-800 rounded-xl font-bold mt-3">ุฎุฑูุฌ</button>
                    </div>
                `;
            }
        }

        function renderGibberishSetup() {
            if (!state.currentGame || state.currentGame.type !== 'gibberish') {
                return `
                    <div class="p-6 h-screen flex flex-col">
                        ${header('๐ฃ๏ธ ูู ุงูุดูุฑุฉ', 'home')}
                        
                        <div class="flex-1 flex flex-col justify-center items-center text-center">
                            <div class="text-6xl mb-6">๐ฃ๏ธ</div>
                            <h2 class="text-2xl font-bold text-pink-800 mb-4">ุงููุงุนุฏุฉ:</h2>
                            <p class="text-slate-600 max-w-sm mb-8">ุฌูู ุบุฑูุจุฉ! ุงูุฑุฃูุง ุจุตูุช ุนุงูู ูุฐุง ูุฑุฉ ูุญุฏ ูุง ุชููู ุงููุนูู ุงูุญูููู!</p>
                            <div class="bg-pink-50 p-4 rounded-lg mb-4">
                                <p class="text-sm text-pink-800 font-bold">ูุซุงู:</p>
                                <p class="text-lg mt-2">"ุณูุฏ ูุชุด ูุจ ุฏุง" = ุณุงูุฏูุชุด ูุจุฏุฉ</p>
                            </div>
                        </div>
                        
                        <button onclick="startGibberishGame()" class="w-full py-4 bg-pink-600 text-white rounded-xl font-bold text-xl shadow-lg">
                            ุงุจุฏุฃ ุงููุนุจุฉ
                        </button>
                    </div>
                `;
            }

            const game = state.currentGame;
            
            if (game.phase === 'ready') {
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-pink-600 text-white text-center animate-in">
                        <div class="text-6xl mb-6">๐ฃ๏ธ</div>
                        <h2 class="text-3xl font-bold mb-8">ุฌุงูุฒ ุชูู ุงูุดูุฑุฉุ</h2>
                        
                        <div onclick="startGibberishTimerNow()" class="w-full py-6 bg-white text-pink-700 rounded-2xl font-black text-2xl shadow-xl cursor-pointer hover:bg-pink-50 transition">
                            ุฏูุณ ุนุดุงู ุชุจุฏุฃ<br><span class="text-sm font-normal text-slate-500">(ุงูุนุฏุงุฏ ููุจุฏุฃ ููุฑุงู!)</span>
                        </div>
                    </div>
                `;
            }

            if (game.phase === 'playing') {
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-pink-600 text-white text-center">
                        <div class="text-sm opacity-80 mb-4">ุงูุฑุฃูุง ุจุตูุช ุนุงูู!</div>
                        <div class="bg-white/20 p-8 rounded-3xl mb-8">
                            <h1 class="text-4xl font-black">${game.phrase.gibberish}</h1>
                        </div>

                        <div class="text-6xl font-black mb-8">${game.timeLeft}</div>

                        <button onclick="revealGibberishAnswer()" class="w-full py-4 bg-white text-pink-700 rounded-xl font-bold text-xl">
                            ุฅุธูุงุฑ ุงูุฅุฌุงุจุฉ
                        </button>
                    </div>
                `;
            }

            if (game.phase === 'answer') {
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-pink-900 text-white text-center">
                        <div class="bg-white/10 p-6 rounded-2xl mb-8">
                            <div class="text-sm opacity-80 mb-2">ูุงูุช:</div>
                            <div class="text-2xl font-bold mb-4">${game.phrase.gibberish}</div>
                            <div class="text-sm opacity-80 mb-2">ุงูุฅุฌุงุจุฉ:</div>
                            <div class="text-3xl font-black text-yellow-300">${game.phrase.answer}</div>
                        </div>

                        <button onclick="nextGibberishRound()" class="w-full py-4 bg-pink-500 rounded-xl font-bold text-xl mb-3">ุฌููุฉ ุฌุฏูุฏุฉ</button>
                        <button onclick="navigate('home')" class="w-full py-3 bg-slate-700 rounded-xl font-bold">ุฎุฑูุฌ</button>
                    </div>
                `;
            }
        }

        function renderHumSetup() {
            if (!state.currentGame || state.currentGame.type !== 'hum') {
                return `
                    <div class="p-6 h-screen flex flex-col">
                        ${header('๐ต ุทุฑุจูู ุดูุฑุงู', 'home')}
                        
                        <div class="flex-1 flex flex-col justify-center items-center text-center">
                            <div class="text-6xl mb-6">๐ต</div>
                            <h2 class="text-2xl font-bold text-yellow-800 mb-4">ุงููุงุนุฏุฉ:</h2>
                            <p class="text-slate-600 max-w-sm mb-8">ูููู ุงููุญู ุจุณ! ููููุน ุงููููุงุช. "ุชู ุชู ุฑู ุชู" ููุท!</p>
                        </div>
                        
                        <button onclick="startHumGame()" class="w-full py-4 bg-yellow-600 text-white rounded-xl font-bold text-xl shadow-lg">
                            ุงุจุฏุฃ ุงููุนุจุฉ
                        </button>
                    </div>
                `;
            }

            const game = state.currentGame;
            
            if (game.phase === 'prepare') {
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-yellow-600 text-white text-center">
                        <p class="text-xl opacity-80 mb-2">ุงูุฏูุฑ ุนูู</p>
                        <h1 class="text-4xl font-black mb-8">${game.player.name}</h1>
                        <div class="bg-white/10 p-6 rounded-2xl border-2 border-white/20 w-full mb-8 relative overflow-hidden">
                            ${!game.revealed ? `
                                <div onclick="state.currentGame.revealed = true; render()" class="absolute inset-0 bg-yellow-700 z-10 flex items-center justify-center cursor-pointer hover:bg-yellow-800 transition">
                                    <span class="text-xl font-bold animate-pulse">ุฏูุณ ุนุดุงู ุชุดูู ุงูุฃุบููุฉ</span>
                                </div>
                            ` : ''}
                            <p class="text-sm mb-2 opacity-75">ุงูุฃุบููุฉ:</p>
                            <h2 class="text-3xl font-bold text-yellow-300">${game.song.name}</h2>
                            <p class="text-sm mt-2 opacity-75">ุงูุตุนูุจุฉ: ${game.song.difficulty}</p>
                        </div>
                        <button onclick="startHumRound()" class="w-full py-4 bg-white text-yellow-700 rounded-xl font-bold text-xl" ${!game.revealed ? 'disabled opacity-50' : ''}>ุงุจุฏุฃ ุงูููููุฉ!</button>
                    </div>
                `;
            }

            if (game.phase === 'humming') {
                return `
                    <div class="h-screen flex flex-col p-6 bg-yellow-50">
                        <div class="text-center mt-8 mb-8">
                            <h2 class="text-slate-500">ุงูููููู: <span class="font-bold text-yellow-700">${game.player.name}</span></h2>
                            <h1 class="text-3xl font-black text-slate-800 mt-2">${game.song.name}</h1>
                        </div>
                        
                        <div class="flex-1 flex justify-center items-center">
                            <div class="text-8xl font-black text-yellow-600">${game.timeLeft}</div>
                        </div>

                        <div class="space-y-3">
                            <button onclick="humSuccess()" class="w-full py-4 bg-green-500 text-white rounded-xl font-bold text-xl">โ ุนุฑูููุง!</button>
                            <button onclick="humFail()" class="w-full py-3 bg-slate-200 text-slate-600 rounded-xl font-bold">ูุนุฑููุด</button>
                        </div>
                    </div>
                `;
            }
        }

        function renderLikelySetup() {
            if (!state.currentGame || state.currentGame.type !== 'likely') {
                return `
                    <div class="p-6 h-screen flex flex-col">
                        ${header('๐ ููู ุงููุงุฑุซุฉุ', 'home')}
                        
                        <div class="flex-1 flex flex-col justify-center items-center text-center">
                            <div class="text-6xl mb-6">๐</div>
                            <h2 class="text-2xl font-bold text-red-800 mb-4">ุงููุงุนุฏุฉ:</h2>
                            <p class="text-slate-600 max-w-sm mb-8">ุณุคุงู ูุธูุฑ. ูู ูฃ ุซูุงูู ูููู ุชุดุงูุฑูุง ุนูู ููุณ ุงูุดุฎุต. ุงููู ุงููู ุดุงูุฑ ุนููู.. ุนูุงุจ!</p>
                        </div>
                        
                        <button onclick="startLikelyGame()" class="w-full py-4 bg-red-600 text-white rounded-xl font-bold text-xl shadow-lg">
                            ุงุจุฏุฃ ุงููุนุจุฉ
                        </button>
                    </div>
                `;
            }

            const game = state.currentGame;

            if (game.phase === 'ready') {
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-red-600 text-white text-center animate-in">
                        <div class="text-6xl mb-6">๐</div>
                        <h2 class="text-3xl font-bold mb-8">ุฌุงูุฒููุ</h2>
                        
                        <div onclick="startLikelyTimerNow()" class="w-full py-6 bg-white text-red-700 rounded-2xl font-black text-2xl shadow-xl cursor-pointer hover:bg-red-50 transition">
                            ุฏูุณ ุนุดุงู ุชุดูู ุงูุณุคุงู<br><span class="text-sm font-normal text-slate-500">(3 ุซูุงูู ุจุณ!)</span>
                        </div>
                    </div>
                `;
            }
            
            if (game.phase === 'showing') {
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-red-600 text-white text-center">
                        <div class="bg-white/20 p-8 rounded-3xl mb-8 w-full">
                            <h1 class="text-3xl font-black leading-relaxed">${game.question}</h1>
                        </div>

                        <div class="text-8xl font-black mb-8">${game.timeLeft}</div>

                        <p class="text-xl opacity-90">ุดุงูุฑูุง ุฏูููุชู! ๐</p>
                    </div>
                `;
            }

            if (game.phase === 'result') {
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-red-900 text-white text-center">
                        <h2 class="text-3xl font-bold mb-8">ุงุชูููุง ุนูู ูููุ</h2>
                        
                        <div class="grid grid-cols-2 gap-3 w-full mb-8">
                            ${state.players.map(p => `
                                <button onclick="likelySelectPlayer(${p.id})" class="p-4 bg-white/20 rounded-xl font-bold hover:bg-white/30">
                                    ${p.name}
                                </button>
                            `).join('')}
                        </div>

                        <button onclick="nextLikelyRound()" class="w-full py-3 bg-red-500 rounded-xl font-bold">ุฌููุฉ ุฌุฏูุฏุฉ</button>
                        <button onclick="navigate('home')" class="w-full py-3 bg-slate-700 rounded-xl font-bold mt-3">ุฎุฑูุฌ</button>
                    </div>
                `;
            }
        }

        function renderAuctionSetup() {
            if (!state.currentGame || state.currentGame.type !== 'auction') {
                return `
                    <div class="p-6 h-screen flex flex-col">
                        ${header('๐จ ุงููุฒุงุฏ', 'home')}
                        
                        <div class="flex-1 flex flex-col justify-center items-center text-center">
                            <div class="text-6xl mb-6">๐จ</div>
                            <h2 class="text-2xl font-bold text-cyan-800 mb-4">ุงููุงุนุฏุฉ:</h2>
                            <p class="text-slate-600 max-w-sm mb-8">ุงููุฑูู ูุฑุงูู ุนูู ุนุฏุฏ ุงูุฅุฌุงุจุงุช ุงููู ููุฏุฑ ูููููุง. ุงููุฒุงุฏ ููุฃุนููุ ูุงููุฑูู ุงููุงูุฒ ูุงุฒู ูููุฐ!</p>
                        </div>
                        
                        <button onclick="startAuctionGame()" class="w-full py-4 bg-cyan-600 text-white rounded-xl font-bold text-xl shadow-lg">
                            ุงุจุฏุฃ ุงููุนุจุฉ
                        </button>
                    </div>
                `;
            }

            const game = state.currentGame;
            
            if (game.phase === 'bidding') {
                return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-cyan-600 text-white text-center">
                        <div class="bg-white/20 p-6 rounded-2xl mb-8 w-full">
                            <div class="text-sm opacity-80 mb-2">ุงููุฆุฉ:</div>
                            <h2 class="text-3xl font-bold">${game.category.name}</h2>
                        </div>

                        <div class="text-lg opacity-90 mb-4">ุฃุนูู ุฑูู ูุฒุงุฏ:</div>
                        <div class="text-8xl font-black text-yellow-300 mb-8">${game.currentBid}</div>

                        <div class="grid grid-cols-2 gap-3 w-full">
                            <button onclick="raiseBid()" class="py-4 bg-white/20 rounded-xl font-bold text-xl">+ูก ุนูู</button>
                            <button onclick="auctionPass()" class="py-4 bg-red-500 rounded-xl font-bold text-xl">ุจุงุณ!</button>
                        </div>
                    </div>
                `;
            }

            if (game.phase === 'answering_ready') {
                 return `
                    <div class="h-screen flex flex-col items-center justify-center p-6 bg-cyan-600 text-white text-center animate-in">
                        <div class="text-6xl mb-6">๐จ</div>
                        <h2 class="text-3xl font-bold mb-4">ุงููุฒุงุฏ ุฎูุต!</h2>
                        <p class="text-xl opacity-90 mb-2">ูุทููุจ <span class="font-black text-yellow-300 text-2xl">${game.finalBid}</span> ุฅุฌุงุจุฉ</p>
                        
                        <div onclick="startAuctionTimerNow()" class="w-full py-6 mt-8 bg-white text-cyan-700 rounded-2xl font-black text-2xl shadow-xl cursor-pointer hover:bg-cyan-50 transition">
                            ุฏูุณ ุนุดุงู ุชุจุฏุฃ ุงูุนุฏุงุฏ
                        </div>
                    </div>
                `;
            }

            if (game.phase === 'answering') {
                return `
                    <div class="h-screen flex flex-col p-6 bg-cyan-50">
                        <div class="text-center mt-8 mb-8">
                            <h2 class="text-cyan-700 text-lg">ุงููุฆุฉ: <span class="font-bold">${game.category.name}</span></h2>
                            <div class="text-5xl font-black text-cyan-600 mt-4">ูุงุฒู ${game.finalBid} ุฅุฌุงุจุฉ!</div>
                        </div>
                        
                        <div class="flex-1 flex justify-center items-center">
                            <div class="text-8xl font-black text-cyan-600">${game.timeLeft}</div>
                        </div>

                        <div class="space-y-3">
                            <button onclick="auctionSuccess()" class="w-full py-4 bg-green-500 text-white rounded-xl font-bold text-xl">โ ูุฌุญ!</button>
                            <button onclick="auctionFail()" class="w-full py-3 bg-red-500 text-white rounded-xl font-bold">โ ูุดู!</button>
                        </div>
                    </div>
                `;
            }
        }

        function header(title, backTo) {
            return `
                <div class="flex items-center gap-4 py-2 mb-2">
                    <button onclick="navigate('${backTo}')" class="p-2 bg-slate-100 rounded-full hover:bg-slate-200 text-slate-700">
                        <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
                    </button>
                    <h1 class="text-xl font-bold text-slate-800">${title}</h1>
                </div>
            `;
        }

        // ===== EVENT HANDLERS =====
        function addPlayer(e) {
            e.preventDefault();
            const input = document.getElementById('newPlayerName');
            if (input.value.trim()) {
                const newId = state.players.length > 0 ? Math.max(...state.players.map(p => p.id)) + 1 : 1;
                state.players.push({ id: newId, name: input.value.trim(), score: 0 });
                playSound('click');
                render();
            }
        }

        function removePlayer(id) {
            state.players = state.players.filter(p => p.id !== id);
            playSound('click');
            render();
        }

        function resetScores() {
            state.players = state.players.map(p => ({...p, score: 0}));
            state.teams = state.teams.map(t => ({...t, score: 0}));
            playSound('click');
            render();
        }

        // Game starters and handlers
        function getTimer(time) {
            if (time >= 60) {
                const mins = Math.floor(time / 60);
                const secs = time % 60;
                return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
            }
            return time;
        }

        // === SPY GAME ===
        function startSpyGame(category) {
            const words = SPY_CATEGORIES[category];
            const word = words[Math.floor(Math.random() * words.length)];
            const spyIndex = Math.floor(Math.random() * state.players.length);
            
            state.currentGame = {
                type: 'spy',
                phase: 'reveal',
                category,
                word,
                spyIndex,
                currentPlayerIndex: 0,
                revealed: false,
                timeLeft: 120
            };
            playSound('click');
            render();
        }

        function revealSpyWord() {
            if (state.currentGame.revealed) return;
            state.currentGame.revealed = true;
            playSound('click');
            render();
        }

        function nextSpyPlayer() {
            if (!state.currentGame.revealed) {
                state.currentGame.revealed = true;
            } else if (state.currentGame.currentPlayerIndex < state.players.length - 1) {
                state.currentGame.currentPlayerIndex++;
                state.currentGame.revealed = false;
            } else {
                state.currentGame.phase = 'discuss';
                startSpyTimer();
            }
            playSound('click');
            render();
        }

        function startSpyTimer() {
            const timer = setInterval(() => {
                if (!state.currentGame || state.currentGame.type !== 'spy' || state.currentGame.phase !== 'discuss') {
                    clearInterval(timer);
                    return;
                }
                state.currentGame.timeLeft--;
                if (state.currentGame.timeLeft <= 0) {
                    clearInterval(timer);
                    playSound('fail');
                }
                if (state.currentGame.timeLeft <= 10) playSound('tick');
                render();
            }, 1000);
        }

        function endSpyGame() {
            state.currentGame.phase = 'result';
            playSound('click');
            render();
        }

        function restartSpyGame() {
            const category = state.currentGame.category;
            startSpyGame(category);
        }

        // === CHARADES GAME ===
        function startCharadesGame(category) {
            const words = CHARADES_DATA[category];
            const word = words[Math.floor(Math.random() * words.length)];
            const actor = state.players[Math.floor(Math.random() * state.players.length)];
            
            state.currentGame = {
                type: 'charades',
                phase: 'prepare',
                category,
                word,
                actor,
                revealed: false,
                timeLeft: 60
            };
            playSound('click');
            render();
        }

        function startCharadesRound() {
            state.currentGame.phase = 'acting';
            playSound('click');
            render();
            
            const timer = setInterval(() => {
                if (!state.currentGame || state.currentGame.type !== 'charades' || state.currentGame.phase !== 'acting') {
                    clearInterval(timer);
                    return;
                }
                state.currentGame.timeLeft--;
                if (state.currentGame.timeLeft <= 0) {
                    clearInterval(timer);
                    charadesFail();
                    return;
                }
                if (state.currentGame.timeLeft <= 10) playSound('tick');
                render();
            }, 1000);
        }

        function charadesSuccess() {
            updateScore(state.currentGame.actor.id, false, 1);
            startCharadesGame(state.currentGame.category);
        }

        function charadesFail() {
            if (state.daresEnabled) showDare();
            startCharadesGame(state.currentGame.category);
        }

        // === QUOTES GAME ===
        function startQuotesGame() {
            const quote = QUOTES_DATA[Math.floor(Math.random() * QUOTES_DATA.length)];
            const reader = state.players[Math.floor(Math.random() * state.players.length)];
            
            state.currentGame = {
                type: 'quotes',
                phase: 'play',
                quote,
                reader,
                revealed: false
            };
            playSound('click');
            render();
        }

        function revealQuoteAnswer() {
            state.currentGame.phase = 'answer';
            playSound('click');
            render();
        }

        function quotePlayerWins(playerId) {
            updateScore(playerId, false, 1);
            startQuotesGame();
        }

        function nextQuoteRound() {
            startQuotesGame();
        }

        // === FIVE SECOND GAME ===
        function startFiveSecondGame() {
            const question = FIVE_SECOND_QUESTIONS[Math.floor(Math.random() * FIVE_SECOND_QUESTIONS.length)];
            const player = state.players[Math.floor(Math.random() * state.players.length)];
            
            state.currentGame = {
                type: 'fivesecond',
                phase: 'prepare',
                question,
                player,
                revealed: false,
                timeLeft: 5
            };
            playSound('click');
            render();
        }

        function startFiveSecondRound() {
            state.currentGame.phase = 'playing';
            playSound('click');
            render();
            
            const timer = setInterval(() => {
                if (!state.currentGame || state.currentGame.type !== 'fivesecond' || state.currentGame.phase !== 'playing') {
                    clearInterval(timer);
                    return;
                }
                state.currentGame.timeLeft--;
                if (state.currentGame.timeLeft <= 0) {
                    clearInterval(timer);
                    fiveSecondFail();
                    return;
                }
                playSound('tick');
                render();
            }, 1000);
        }

        function fiveSecondSuccess() {
            updateScore(state.currentGame.player.id, false, 1);
            startFiveSecondGame();
        }

        function fiveSecondFail() {
            if (state.daresEnabled) showDare();
            startFiveSecondGame();
        }

        // === BUS GAME ===
        function startBusGame() {
            const arabicLetters = ['ุฃ', 'ุจ', 'ุช', 'ุซ', 'ุฌ', 'ุญ', 'ุฎ', 'ุฏ', 'ุฐ', 'ุฑ', 'ุฒ', 'ุณ', 'ุด', 'ุต', 'ุถ', 'ุท', 'ุน', 'ุบ', 'ู', 'ู', 'ู', 'ู', 'ู', 'ู', 'ู', 'ู', 'ู'];
            const category = BUS_CATEGORIES[Math.floor(Math.random() * BUS_CATEGORIES.length)];
            const letter = arabicLetters[Math.floor(Math.random() * arabicLetters.length)];
            
            state.currentGame = {
                type: 'bus',
                phase: 'ready',
                category,
                letter,
                playerIndex: 0,
                results: [],
                timeLeft: 10
            };
            playSound('click');
            render();
        }

        function startBusTimerNow() {
            state.currentGame.phase = 'playing';
            playSound('click');
            render();
            startBusTimer();
        }

        function startBusTimer() {
            const timer = setInterval(() => {
                if (!state.currentGame || state.currentGame.type !== 'bus' || state.currentGame.phase !== 'playing') {
                    clearInterval(timer);
                    return;
                }
                state.currentGame.timeLeft--;
                if (state.currentGame.timeLeft <= 0) {
                    clearInterval(timer);
                    busPlayerFail();
                    return;
                }
                if (state.currentGame.timeLeft <= 5) playSound('tick');
                render();
            }, 1000);
        }

        function busPlayerSuccess() {
            const player = state.players[state.currentGame.playerIndex];
            state.currentGame.results.push({ player, success: true });
            updateScore(player.id, false, 1);
            
            if (state.currentGame.playerIndex < state.players.length - 1) {
                state.currentGame.playerIndex++;
                state.currentGame.timeLeft = 10;
                state.currentGame.phase = 'ready'; // Pause between players
                playSound('success');
                render();
            } else {
                state.currentGame.phase = 'result';
                playSound('success');
                render();
            }
        }

        function busPlayerFail() {
            const player = state.players[state.currentGame.playerIndex];
            state.currentGame.results.push({ player, success: false });
            
            if (state.currentGame.playerIndex < state.players.length - 1) {
                state.currentGame.playerIndex++;
                state.currentGame.timeLeft = 10;
                state.currentGame.phase = 'ready'; // Pause between players
                playSound('fail');
                render();
            } else {
                state.currentGame.phase = 'result';
                playSound('fail');
                render();
            }
        }

        function nextBusRound() {
            startBusGame();
        }

        // === LIAR GAME ===
        function startLiarGame() {
            const card = LIAR_CARDS[Math.floor(Math.random() * LIAR_CARDS.length)];
            
            state.currentGame = {
                type: 'liar',
                phase: 'ready',
                card,
                selectedFact: null,
                timeLeft: 15
            };
            playSound('click');
            render();
        }

        function startLiarTimerNow() {
            state.currentGame.phase = 'reading';
            playSound('click');
            render();
            startLiarTimer();
        }

        function startLiarTimer() {
            const timer = setInterval(() => {
                if (!state.currentGame || state.currentGame.type !== 'liar' || state.currentGame.phase !== 'reading') {
                    clearInterval(timer);
                    return;
                }
                state.currentGame.timeLeft--;
                if (state.currentGame.timeLeft <= 0) {
                    clearInterval(timer);
                    if (state.currentGame.selectedFact !== null) {
                        revealLiarCard();
                    }
                }
                if (state.currentGame.timeLeft <= 5) playSound('tick');
                render();
            }, 1000);
        }

        function selectLiarFact(index) {
            state.currentGame.selectedFact = index;
            playSound('click');
            render();
        }

        function revealLiarCard() {
            state.currentGame.phase = 'result';
            playSound('click');
            render();
        }

        function liarGameAddPoint() {
            const randomPlayer = state.players[Math.floor(Math.random() * state.players.length)];
            updateScore(randomPlayer.id, false, 1);
            nextLiarRound();
        }

        function nextLiarRound() {
            startLiarGame();
        }

        // === GIBBERISH GAME ===
        function startGibberishGame() {
            const phrase = GIBBERISH_DATA[Math.floor(Math.random() * GIBBERISH_DATA.length)];
            
            state.currentGame = {
                type: 'gibberish',
                phase: 'ready',
                phrase,
                timeLeft: 30
            };
            playSound('click');
            render();
        }

        function startGibberishTimerNow() {
            state.currentGame.phase = 'playing';
            playSound('click');
            render();
            startGibberishTimer();
        }

        function startGibberishTimer() {
            const timer = setInterval(() => {
                if (!state.currentGame || state.currentGame.type !== 'gibberish' || state.currentGame.phase !== 'playing') {
                    clearInterval(timer);
                    return;
                }
                state.currentGame.timeLeft--;
                if (state.currentGame.timeLeft <= 0) {
                    clearInterval(timer);
                    revealGibberishAnswer();
                }
                if (state.currentGame.timeLeft <= 10) playSound('tick');
                render();
            }, 1000);
        }

        function revealGibberishAnswer() {
            state.currentGame.phase = 'answer';
            playSound('click');
            render();
        }

        function nextGibberishRound() {
            startGibberishGame();
        }

        // === HUM GAME ===
        function startHumGame() {
            const song = HUM_SONGS[Math.floor(Math.random() * HUM_SONGS.length)];
            const player = state.players[Math.floor(Math.random() * state.players.length)];
            
            state.currentGame = {
                type: 'hum',
                phase: 'prepare',
                song,
                player,
                revealed: false,
                timeLeft: 45
            };
            playSound('click');
            render();
        }

        function startHumRound() {
            state.currentGame.phase = 'humming';
            playSound('click');
            render();
            
            const timer = setInterval(() => {
                if (!state.currentGame || state.currentGame.type !== 'hum' || state.currentGame.phase !== 'humming') {
                    clearInterval(timer);
                    return;
                }
                state.currentGame.timeLeft--;
                if (state.currentGame.timeLeft <= 0) {
                    clearInterval(timer);
                    humFail();
                    return;
                }
                if (state.currentGame.timeLeft <= 10) playSound('tick');
                render();
            }, 1000);
        }

        function humSuccess() {
            updateScore(state.currentGame.player.id, false, 1);
            startHumGame();
        }

        function humFail() {
            if (state.daresEnabled) showDare();
            startHumGame();
        }

        // === LIKELY GAME ===
        function startLikelyGame() {
            const question = MOST_LIKELY[Math.floor(Math.random() * MOST_LIKELY.length)];
            
            state.currentGame = {
                type: 'likely',
                phase: 'ready',
                question,
                timeLeft: 3
            };
            playSound('click');
            render();
        }

        function startLikelyTimerNow() {
            state.currentGame.phase = 'showing';
            playSound('click');
            render();
            startLikelyTimer();
        }

        function startLikelyTimer() {
            const timer = setInterval(() => {
                if (!state.currentGame || state.currentGame.type !== 'likely' || state.currentGame.phase !== 'showing') {
                    clearInterval(timer);
                    return;
                }
                state.currentGame.timeLeft--;
                if (state.currentGame.timeLeft <= 0) {
                    clearInterval(timer);
                    state.currentGame.phase = 'result';
                    playSound('fail');
                    render();
                }
                playSound('tick');
                render();
            }, 1000);
        }

        function likelySelectPlayer(playerId) {
            if (state.daresEnabled) showDare();
            nextLikelyRound();
        }

        function nextLikelyRound() {
            startLikelyGame();
        }

        // === AUCTION GAME ===
        function startAuctionGame() {
            const category = AUCTION_CATEGORIES[Math.floor(Math.random() * AUCTION_CATEGORIES.length)];
            
            state.currentGame = {
                type: 'auction',
                phase: 'bidding',
                category,
                currentBid: 1,
                timeLeft: 30
            };
            playSound('click');
            render();
        }

        function raiseBid() {
            state.currentGame.currentBid++;
            playSound('click');
            render();
        }

        function auctionPass() {
            state.currentGame.phase = 'answering_ready'; // Changed phase
            state.currentGame.finalBid = state.currentGame.currentBid;
            state.currentGame.timeLeft = 30;
            playSound('click');
            render();
            // Timer doesn't start here anymore
        }

        function startAuctionTimerNow() {
            state.currentGame.phase = 'answering';
            playSound('click');
            render();
            startAuctionTimer();
        }

        function startAuctionTimer() {
            const timer = setInterval(() => {
                if (!state.currentGame || state.currentGame.type !== 'auction' || state.currentGame.phase !== 'answering') {
                    clearInterval(timer);
                    return;
                }
                state.currentGame.timeLeft--;
                if (state.currentGame.timeLeft <= 0) {
                    clearInterval(timer);
                    auctionFail();
                    return;
                }
                if (state.currentGame.timeLeft <= 10) playSound('tick');
                render();
            }, 1000);
        }

        function auctionSuccess() {
            const randomPlayer = state.players[Math.floor(Math.random() * state.players.length)];
            updateScore(randomPlayer.id, false, state.currentGame.finalBid);
            startAuctionGame();
        }

        function auctionFail() {
            if (state.daresEnabled) showDare();
            startAuctionGame();
        }

        // ===== INIT =====
        render();
    </script>
</body>
</html>
